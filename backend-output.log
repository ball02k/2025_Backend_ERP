
> 2025_backend_erp@1.0.0 start
> node index.cjs

[API Catalog] hash: 35bdbe1fc841351bca677f24f4c6aa46ba5561b4
FRONTEND_DELTA_PROMPT
--------------------------------
You are syncing the FRONTEND after backend API changes.

API CHANGES:
- POST /api/requests/:id/award now requires permission `procurement:award` and returns 403 { error:{ code:'FORBIDDEN', message:'Missing permission: procurement:award' } } when absent.

UPDATE THESE CALLS/COMPONENTS:
- Procurement.jsx and RFxCompare.jsx: check user permission before calling award endpoint and handle 403 errors.

TEST UPDATES:
- Add tests covering missing permission on RFx award.

After applying, bump localStorage.lastSeenCatalogHash to "<CURRENT_HASH>".
--------------------------------
/END FRONTEND_DELTA_PROMPT

[EmailService] Email transport configured successfully
[LLM] Initialized with provider: ollama (No OpenAI key)
üìÅ Initializing LOCAL storage...
üìÑ [ContractOCR] Initialized with PDF.js (free, opensource)
üìÅ Serving static files from: /Users/Baller/Documents/2025_ERP/2025_Backend_ERP/uploads
API on 0.0.0.0:3001
2025-11-27T14:33:24.733Z [REQ c4187379] GET /api/auth/me
[0mGET /api/auth/me [32m200[0m 87.642 ms - 182[0m
2025-11-27T14:33:24.825Z [RES c4187379] 200 GET /api/auth/me
2025-11-27T14:33:24.828Z [REQ ad2b38a3] GET /api/auth/me
[0mGET /api/auth/me [32m200[0m 61.323 ms - 182[0m
2025-11-27T14:33:24.890Z [RES ad2b38a3] 200 GET /api/auth/me
2025-11-27T14:33:25.076Z [REQ 2a95ca67] GET /api/projects/37/info
2025-11-27T14:33:25.080Z [REQ 99bea7d4] GET /api/v1/tenants/modules
[0mGET /api/v1/tenants/modules [36m304[0m 85.498 ms - -[0m
2025-11-27T14:33:25.169Z [RES 99bea7d4] 304 GET /api/v1/tenants/modules
2025-11-27T14:33:25.180Z [REQ f1763213] GET /api/v1/tenants/modules
[0mGET /api/v1/tenants/modules [36m304[0m 17.032 ms - -[0m
2025-11-27T14:33:25.197Z [RES f1763213] 304 GET /api/v1/tenants/modules
[0mGET /api/projects/37/info [36m304[0m 132.573 ms - -[0m
2025-11-27T14:33:25.209Z [RES 2a95ca67] 304 GET /api/projects/37/info
2025-11-27T14:33:25.212Z [REQ 2431c09e] GET /api/projects/37/info
[0mGET /api/projects/37/info [36m304[0m 51.802 ms - -[0m
2025-11-27T14:33:25.264Z [RES 2431c09e] 304 GET /api/projects/37/info
2025-11-27T14:33:25.405Z [REQ e8b86274] GET /api/projects/37/info
2025-11-27T14:33:25.408Z [REQ 01aa5ad4] GET /api/v1/tenants/modules
2025-11-27T14:33:25.410Z [REQ 1b509820] GET /api/finance/payment-applications?projectId=37
2025-11-27T14:33:25.411Z [REQ cc52034a] GET /api/suppliers
[0mGET /api/v1/tenants/modules [36m304[0m 44.462 ms - -[0m
2025-11-27T14:33:25.452Z [RES 01aa5ad4] 304 GET /api/v1/tenants/modules
[0mGET /api/suppliers [36m304[0m 58.858 ms - -[0m
2025-11-27T14:33:25.471Z [RES cc52034a] 304 GET /api/suppliers
2025-11-27T14:33:25.475Z [REQ f725802a] GET /api/suppliers
2025-11-27T14:33:25.477Z [REQ 1ca7c32f] GET /api/projects/37/contracts
[0mGET /api/projects/37/info [36m304[0m 96.088 ms - -[0m
2025-11-27T14:33:25.502Z [RES e8b86274] 304 GET /api/projects/37/info
[0mGET /api/suppliers [36m304[0m 80.208 ms - -[0m
2025-11-27T14:33:25.555Z [RES f725802a] 304 GET /api/suppliers
2025-11-27T14:33:25.559Z [REQ 9e54b65f] GET /api/suppliers
[0mGET /api/projects/37/contracts [32m200[0m 85.081 ms - 22754[0m
2025-11-27T14:33:25.563Z [RES 1ca7c32f] 200 GET /api/projects/37/contracts
[0mGET /api/finance/payment-applications?projectId=37 [36m304[0m 154.015 ms - -[0m
2025-11-27T14:33:25.566Z [RES 1b509820] 304 GET /api/finance/payment-applications?projectId=37
2025-11-27T14:33:25.570Z [REQ b219ef2f] GET /api/projects/37/contracts
2025-11-27T14:33:25.571Z [REQ 563a73a0] GET /api/finance/payment-applications?projectId=37
2025-11-27T14:33:25.573Z [REQ d4265440] GET /api/projects/37/packages
[0mGET /api/suppliers [36m304[0m 20.264 ms - -[0m
2025-11-27T14:33:25.579Z [RES 9e54b65f] 304 GET /api/suppliers
2025-11-27T14:33:25.583Z [REQ 5dbaad3f] GET /api/suppliers
[0mGET /api/projects/37/contracts [36m304[0m 55.417 ms - -[0m
2025-11-27T14:33:25.626Z [RES b219ef2f] 304 GET /api/projects/37/contracts
[0mGET /api/suppliers [36m304[0m 46.267 ms - -[0m
2025-11-27T14:33:25.630Z [RES 5dbaad3f] 304 GET /api/suppliers
2025-11-27T14:33:25.631Z [REQ a9f0dcba] GET /api/projects/37/contracts
[0mGET /api/finance/payment-applications?projectId=37 [36m304[0m 68.780 ms - -[0m
2025-11-27T14:33:25.640Z [RES 563a73a0] 304 GET /api/finance/payment-applications?projectId=37
2025-11-27T14:33:25.644Z [REQ 7d19d906] GET /api/finance/payment-applications?projectId=37
[0mGET /api/projects/37/contracts [36m304[0m 40.598 ms - -[0m
2025-11-27T14:33:25.671Z [RES a9f0dcba] 304 GET /api/projects/37/contracts
2025-11-27T14:33:25.675Z [REQ dbfcefe2] GET /api/projects/37/contracts
[projects.js] Checking for tenders: {
  tenantId: 'demo',
  projectId: 37,
  packageIds: [
    83, 61, 88, 89, 87, 85,
    64, 63, 60, 90, 86, 62,
    84, 82, 81
  ]
}
[0mGET /api/finance/payment-applications?projectId=37 [36m304[0m 35.762 ms - -[0m
2025-11-27T14:33:25.680Z [RES 7d19d906] 304 GET /api/finance/payment-applications?projectId=37
2025-11-27T14:33:25.683Z [REQ 06e17202] GET /api/finance/payment-applications?projectId=37
[projects.js] Found tenders: [
  { id: 11, packageId: 61, status: 'issued' },
  { id: 29, packageId: 64, status: 'draft' },
  { id: 32, packageId: 62, status: 'draft' }
]
[projects.js] First package sourcing: {
  packageId: 83,
  packageName: 'Civils & Groundworks',
  sourcingStatus: null,
  tenderId: null,
  contractId: null,
  hasContracts: 0
}
[projects.js] Returning 15 packages
[0mGET /api/projects/37/packages [36m304[0m 113.845 ms - -[0m
2025-11-27T14:33:25.687Z [RES d4265440] 304 GET /api/projects/37/packages
2025-11-27T14:33:25.690Z [REQ 909cb276] GET /api/projects/37/packages
[0mGET /api/finance/payment-applications?projectId=37 [36m304[0m 22.878 ms - -[0m
2025-11-27T14:33:25.707Z [RES 06e17202] 304 GET /api/finance/payment-applications?projectId=37
[0mGET /api/projects/37/contracts [36m304[0m 63.865 ms - -[0m
2025-11-27T14:33:25.740Z [RES dbfcefe2] 304 GET /api/projects/37/contracts
[projects.js] Checking for tenders: {
  tenantId: 'demo',
  projectId: 37,
  packageIds: [
    83, 61, 88, 89, 87, 85,
    64, 63, 60, 90, 86, 62,
    84, 82, 81
  ]
}
[projects.js] Found tenders: [
  { id: 11, packageId: 61, status: 'issued' },
  { id: 29, packageId: 64, status: 'draft' },
  { id: 32, packageId: 62, status: 'draft' }
]
[projects.js] First package sourcing: {
  packageId: 83,
  packageName: 'Civils & Groundworks',
  sourcingStatus: null,
  tenderId: null,
  contractId: null,
  hasContracts: 0
}
[projects.js] Returning 15 packages
[0mGET /api/projects/37/packages [36m304[0m 99.304 ms - -[0m
2025-11-27T14:33:25.790Z [RES 909cb276] 304 GET /api/projects/37/packages
2025-11-27T14:33:25.794Z [REQ c7d22758] GET /api/projects/37/packages
[projects.js] Checking for tenders: {
  tenantId: 'demo',
  projectId: 37,
  packageIds: [
    83, 61, 88, 89, 87, 85,
    64, 63, 60, 90, 86, 62,
    84, 82, 81
  ]
}
[projects.js] Found tenders: [
  { id: 11, packageId: 61, status: 'issued' },
  { id: 29, packageId: 64, status: 'draft' },
  { id: 32, packageId: 62, status: 'draft' }
]
[projects.js] First package sourcing: {
  packageId: 83,
  packageName: 'Civils & Groundworks',
  sourcingStatus: null,
  tenderId: null,
  contractId: null,
  hasContracts: 0
}
[projects.js] Returning 15 packages
[0mGET /api/projects/37/packages [36m304[0m 61.490 ms - -[0m
2025-11-27T14:33:25.855Z [RES c7d22758] 304 GET /api/projects/37/packages
2025-11-27T14:33:25.858Z [REQ 8d9d945b] GET /api/projects/37/packages
[projects.js] Checking for tenders: {
  tenantId: 'demo',
  projectId: 37,
  packageIds: [
    83, 61, 88, 89, 87, 85,
    64, 63, 60, 90, 86, 62,
    84, 82, 81
  ]
}
[projects.js] Found tenders: [
  { id: 11, packageId: 61, status: 'issued' },
  { id: 29, packageId: 64, status: 'draft' },
  { id: 32, packageId: 62, status: 'draft' }
]
[projects.js] First package sourcing: {
  packageId: 83,
  packageName: 'Civils & Groundworks',
  sourcingStatus: null,
  tenderId: null,
  contractId: null,
  hasContracts: 0
}
[projects.js] Returning 15 packages
[0mGET /api/projects/37/packages [36m304[0m 22.414 ms - -[0m
2025-11-27T14:33:25.881Z [RES 8d9d945b] 304 GET /api/projects/37/packages
2025-11-27T14:33:30.033Z [REQ 0d0f9003] GET /api/applications/30
[0mGET /api/applications/30 [36m304[0m 99.469 ms - -[0m
2025-11-27T14:33:30.133Z [RES 0d0f9003] 304 GET /api/applications/30
2025-11-27T14:33:30.136Z [REQ c5555050] GET /api/applications/30
[0mGET /api/applications/30 [36m304[0m 17.908 ms - -[0m
2025-11-27T14:33:30.154Z [RES c5555050] 304 GET /api/applications/30
2025-11-27T14:54:10.113Z [REQ 010dade7] GET /api/auth/me
2025-11-27T14:54:10.134Z [REQ 29a9331e] GET /api/auth/me
[0mGET /api/auth/me [32m200[0m 77.671 ms - 182[0m
2025-11-27T14:54:10.191Z [RES 010dade7] 200 GET /api/auth/me
[0mGET /api/auth/me [32m200[0m 56.804 ms - 182[0m
2025-11-27T14:54:10.191Z [RES 29a9331e] 200 GET /api/auth/me
2025-11-27T14:54:10.499Z [REQ 9998a029] GET /api/projects/37/info
2025-11-27T14:54:10.500Z [REQ 4e68ad61] GET /api/v1/tenants/modules
[0mGET /api/v1/tenants/modules [36m304[0m 47.051 ms - -[0m
2025-11-27T14:54:10.548Z [RES 4e68ad61] 304 GET /api/v1/tenants/modules
2025-11-27T14:54:10.551Z [REQ 085b5057] GET /api/v1/tenants/modules
[0mGET /api/v1/tenants/modules [36m304[0m 20.451 ms - -[0m
2025-11-27T14:54:10.572Z [RES 085b5057] 304 GET /api/v1/tenants/modules
[0mGET /api/projects/37/info [36m304[0m 93.376 ms - -[0m
2025-11-27T14:54:10.593Z [RES 9998a029] 304 GET /api/projects/37/info
2025-11-27T14:54:10.596Z [REQ a687e2b6] GET /api/projects/37/info
[0mGET /api/projects/37/info [36m304[0m 11.488 ms - -[0m
2025-11-27T14:54:10.608Z [RES a687e2b6] 304 GET /api/projects/37/info
2025-11-27T14:54:10.828Z [REQ 11dd61a8] GET /api/suppliers
2025-11-27T14:54:10.830Z [REQ 0695a6a9] GET /api/v1/tenants/modules
2025-11-27T14:54:10.833Z [REQ f1a55ae2] GET /api/projects/37/info
2025-11-27T14:54:10.848Z [REQ cbe5eebc] GET /api/finance/payment-applications?projectId=37
[0mGET /api/v1/tenants/modules [36m304[0m 47.482 ms - -[0m
2025-11-27T14:54:10.878Z [RES 0695a6a9] 304 GET /api/v1/tenants/modules
[0mGET /api/suppliers [36m304[0m 63.372 ms - -[0m
2025-11-27T14:54:10.892Z [RES 11dd61a8] 304 GET /api/suppliers
2025-11-27T14:54:10.895Z [REQ d81b3e6b] GET /api/suppliers
2025-11-27T14:54:10.898Z [REQ 2f9800ee] GET /api/projects/37/contracts
[0mGET /api/projects/37/info [36m304[0m 101.351 ms - -[0m
2025-11-27T14:54:10.934Z [RES f1a55ae2] 304 GET /api/projects/37/info
[0mGET /api/suppliers [36m304[0m 54.408 ms - -[0m
2025-11-27T14:54:10.949Z [RES d81b3e6b] 304 GET /api/suppliers
[0mGET /api/finance/payment-applications?projectId=37 [36m304[0m 104.161 ms - -[0m
2025-11-27T14:54:10.954Z [RES cbe5eebc] 304 GET /api/finance/payment-applications?projectId=37
2025-11-27T14:54:10.966Z [REQ e012425e] GET /api/finance/payment-applications?projectId=37
2025-11-27T14:54:10.967Z [REQ e2dc4cf5] GET /api/suppliers
[0mGET /api/projects/37/contracts [36m304[0m 94.333 ms - -[0m
2025-11-27T14:54:10.992Z [RES 2f9800ee] 304 GET /api/projects/37/contracts
[0mGET /api/suppliers [36m304[0m 29.419 ms - -[0m
2025-11-27T14:54:10.998Z [RES e2dc4cf5] 304 GET /api/suppliers
2025-11-27T14:54:11.001Z [REQ 399888bc] GET /api/projects/37/contracts
2025-11-27T14:54:11.003Z [REQ a5459801] GET /api/projects/37/packages
2025-11-27T14:54:11.003Z [REQ 7ddfa337] GET /api/suppliers
[0mGET /api/finance/payment-applications?projectId=37 [36m304[0m 39.965 ms - -[0m
2025-11-27T14:54:11.006Z [RES e012425e] 304 GET /api/finance/payment-applications?projectId=37
2025-11-27T14:54:11.010Z [REQ c11c6483] GET /api/finance/payment-applications?projectId=37
[0mGET /api/suppliers [36m304[0m 17.248 ms - -[0m
2025-11-27T14:54:11.021Z [RES 7ddfa337] 304 GET /api/suppliers
[0mGET /api/projects/37/contracts [36m304[0m 23.128 ms - -[0m
2025-11-27T14:54:11.024Z [RES 399888bc] 304 GET /api/projects/37/contracts
2025-11-27T14:54:11.028Z [REQ 2cccc5a2] GET /api/projects/37/contracts
[0mGET /api/finance/payment-applications?projectId=37 [36m304[0m 30.634 ms - -[0m
2025-11-27T14:54:11.041Z [RES c11c6483] 304 GET /api/finance/payment-applications?projectId=37
2025-11-27T14:54:11.059Z [REQ 447309b0] GET /api/finance/payment-applications?projectId=37
[projects.js] Checking for tenders: {
  tenantId: 'demo',
  projectId: 37,
  packageIds: [
    83, 61, 88, 89, 87, 85,
    64, 63, 60, 90, 86, 62,
    84, 82, 81
  ]
}
[projects.js] Found tenders: [
  { id: 11, packageId: 61, status: 'issued' },
  { id: 29, packageId: 64, status: 'draft' },
  { id: 32, packageId: 62, status: 'draft' }
]
[projects.js] First package sourcing: {
  packageId: 83,
  packageName: 'Civils & Groundworks',
  sourcingStatus: null,
  tenderId: null,
  contractId: null,
  hasContracts: 0
}
[projects.js] Returning 15 packages
[0mGET /api/projects/37/packages [36m304[0m 84.508 ms - -[0m
2025-11-27T14:54:11.087Z [RES a5459801] 304 GET /api/projects/37/packages
2025-11-27T14:54:11.093Z [REQ 05f3d9d9] GET /api/projects/37/packages
[0mGET /api/projects/37/contracts [36m304[0m 86.577 ms - -[0m
2025-11-27T14:54:11.115Z [RES 2cccc5a2] 304 GET /api/projects/37/contracts
2025-11-27T14:54:11.120Z [REQ 471ac1d1] GET /api/projects/37/contracts
[0mGET /api/projects/37/contracts [36m304[0m 14.591 ms - -[0m
2025-11-27T14:54:11.135Z [RES 471ac1d1] 304 GET /api/projects/37/contracts
[0mGET /api/finance/payment-applications?projectId=37 [36m304[0m 76.370 ms - -[0m
2025-11-27T14:54:11.135Z [RES 447309b0] 304 GET /api/finance/payment-applications?projectId=37
[projects.js] Checking for tenders: {
  tenantId: 'demo',
  projectId: 37,
  packageIds: [
    83, 61, 88, 89, 87, 85,
    64, 63, 60, 90, 86, 62,
    84, 82, 81
  ]
}
[projects.js] Found tenders: [
  { id: 11, packageId: 61, status: 'issued' },
  { id: 29, packageId: 64, status: 'draft' },
  { id: 32, packageId: 62, status: 'draft' }
]
[projects.js] First package sourcing: {
  packageId: 83,
  packageName: 'Civils & Groundworks',
  sourcingStatus: null,
  tenderId: null,
  contractId: null,
  hasContracts: 0
}
[projects.js] Returning 15 packages
[0mGET /api/projects/37/packages [36m304[0m 49.277 ms - -[0m
2025-11-27T14:54:11.143Z [RES 05f3d9d9] 304 GET /api/projects/37/packages
2025-11-27T14:54:11.146Z [REQ 3428212d] GET /api/projects/37/packages
[projects.js] Checking for tenders: {
  tenantId: 'demo',
  projectId: 37,
  packageIds: [
    83, 61, 88, 89, 87, 85,
    64, 63, 60, 90, 86, 62,
    84, 82, 81
  ]
}
[projects.js] Found tenders: [
  { id: 11, packageId: 61, status: 'issued' },
  { id: 29, packageId: 64, status: 'draft' },
  { id: 32, packageId: 62, status: 'draft' }
]
[projects.js] First package sourcing: {
  packageId: 83,
  packageName: 'Civils & Groundworks',
  sourcingStatus: null,
  tenderId: null,
  contractId: null,
  hasContracts: 0
}
[projects.js] Returning 15 packages
[0mGET /api/projects/37/packages [36m304[0m 65.654 ms - -[0m
2025-11-27T14:54:11.212Z [RES 3428212d] 304 GET /api/projects/37/packages
2025-11-27T14:54:11.215Z [REQ f1c75e99] GET /api/projects/37/packages
[projects.js] Checking for tenders: {
  tenantId: 'demo',
  projectId: 37,
  packageIds: [
    83, 61, 88, 89, 87, 85,
    64, 63, 60, 90, 86, 62,
    84, 82, 81
  ]
}
[projects.js] Found tenders: [
  { id: 11, packageId: 61, status: 'issued' },
  { id: 29, packageId: 64, status: 'draft' },
  { id: 32, packageId: 62, status: 'draft' }
]
[projects.js] First package sourcing: {
  packageId: 83,
  packageName: 'Civils & Groundworks',
  sourcingStatus: null,
  tenderId: null,
  contractId: null,
  hasContracts: 0
}
[projects.js] Returning 15 packages
[0mGET /api/projects/37/packages [36m304[0m 23.969 ms - -[0m
2025-11-27T14:54:11.239Z [RES f1c75e99] 304 GET /api/projects/37/packages
2025-11-27T14:54:13.529Z [REQ 79acefb5] GET /api/applications/30
[0mGET /api/applications/30 [36m304[0m 99.734 ms - -[0m
2025-11-27T14:54:13.629Z [RES 79acefb5] 304 GET /api/applications/30
2025-11-27T14:54:13.632Z [REQ 92bc66ed] GET /api/applications/30
[0mGET /api/applications/30 [36m304[0m 15.322 ms - -[0m
2025-11-27T14:54:13.648Z [RES 92bc66ed] 304 GET /api/applications/30
2025-11-27T14:58:10.856Z [REQ a180281e] GET /api/auth/me
[0mGET /api/auth/me [32m200[0m 9.397 ms - 182[0m
2025-11-27T14:58:10.866Z [RES a180281e] 200 GET /api/auth/me
2025-11-27T14:58:10.869Z [REQ 3a98a5c0] GET /api/auth/me
[0mGET /api/auth/me [32m200[0m 47.537 ms - 182[0m
2025-11-27T14:58:10.917Z [RES 3a98a5c0] 200 GET /api/auth/me
2025-11-27T14:58:11.481Z [REQ 40ac0fe5] GET /api/projects/37/info
2025-11-27T14:58:11.488Z [REQ 58ff367e] GET /api/v1/tenants/modules
[0mGET /api/v1/tenants/modules [36m304[0m 59.386 ms - -[0m
2025-11-27T14:58:11.548Z [RES 58ff367e] 304 GET /api/v1/tenants/modules
2025-11-27T14:58:11.552Z [REQ 0c7c7c0b] GET /api/v1/tenants/modules
[0mGET /api/projects/37/info [36m304[0m 72.076 ms - -[0m
2025-11-27T14:58:11.554Z [RES 40ac0fe5] 304 GET /api/projects/37/info
2025-11-27T14:58:11.557Z [REQ fe0dadf9] GET /api/projects/37/info
[0mGET /api/v1/tenants/modules [36m304[0m 8.423 ms - -[0m
2025-11-27T14:58:11.561Z [RES 0c7c7c0b] 304 GET /api/v1/tenants/modules
[0mGET /api/projects/37/info [36m304[0m 53.487 ms - -[0m
2025-11-27T14:58:11.610Z [RES fe0dadf9] 304 GET /api/projects/37/info
2025-11-27T14:58:12.461Z [REQ 44d955ac] GET /api/finance/payment-applications?projectId=37
2025-11-27T14:58:12.462Z [REQ 4f26bdc9] GET /api/suppliers
2025-11-27T14:58:12.465Z [REQ d537d20b] GET /api/projects/37/info
2025-11-27T14:58:12.466Z [REQ 0054d02d] GET /api/v1/tenants/modules
[0mGET /api/v1/tenants/modules [36m304[0m 44.194 ms - -[0m
2025-11-27T14:58:12.511Z [RES 0054d02d] 304 GET /api/v1/tenants/modules
[0mGET /api/suppliers [36m304[0m 56.090 ms - -[0m
2025-11-27T14:58:12.518Z [RES 4f26bdc9] 304 GET /api/suppliers
2025-11-27T14:58:12.521Z [REQ 587346f9] GET /api/suppliers
[0mGET /api/finance/payment-applications?projectId=37 [36m304[0m 64.041 ms - -[0m
2025-11-27T14:58:12.525Z [RES 44d955ac] 304 GET /api/finance/payment-applications?projectId=37
2025-11-27T14:58:12.528Z [REQ 7616a9dc] GET /api/finance/payment-applications?projectId=37
2025-11-27T14:58:12.530Z [REQ a61656b8] GET /api/projects/37/contracts
[0mGET /api/projects/37/info [36m304[0m 93.643 ms - -[0m
2025-11-27T14:58:12.559Z [RES d537d20b] 304 GET /api/projects/37/info
[0mGET /api/suppliers [36m304[0m 47.635 ms - -[0m
2025-11-27T14:58:12.569Z [RES 587346f9] 304 GET /api/suppliers
[0mGET /api/finance/payment-applications?projectId=37 [36m304[0m 46.435 ms - -[0m
2025-11-27T14:58:12.575Z [RES 7616a9dc] 304 GET /api/finance/payment-applications?projectId=37
2025-11-27T14:58:12.590Z [REQ d36d7296] GET /api/finance/payment-applications?projectId=37
2025-11-27T14:58:12.593Z [REQ f6988ae8] GET /api/suppliers
[0mGET /api/projects/37/contracts [36m304[0m 81.803 ms - -[0m
2025-11-27T14:58:12.612Z [RES a61656b8] 304 GET /api/projects/37/contracts
2025-11-27T14:58:12.615Z [REQ a06a48af] GET /api/projects/37/contracts
[0mGET /api/suppliers [36m304[0m 31.123 ms - -[0m
2025-11-27T14:58:12.625Z [RES f6988ae8] 304 GET /api/suppliers
2025-11-27T14:58:12.627Z [REQ bd54c61e] GET /api/projects/37/packages
2025-11-27T14:58:12.629Z [REQ cdc0b62c] GET /api/suppliers
[0mGET /api/projects/37/contracts [36m304[0m 15.758 ms - -[0m
2025-11-27T14:58:12.631Z [RES a06a48af] 304 GET /api/projects/37/contracts
[0mGET /api/finance/payment-applications?projectId=37 [36m304[0m 42.618 ms - -[0m
2025-11-27T14:58:12.633Z [RES d36d7296] 304 GET /api/finance/payment-applications?projectId=37
2025-11-27T14:58:12.637Z [REQ 2f0fae50] GET /api/finance/payment-applications?projectId=37
2025-11-27T14:58:12.638Z [REQ b703e1f9] GET /api/projects/37/contracts
[0mGET /api/suppliers [36m304[0m 18.366 ms - -[0m
2025-11-27T14:58:12.647Z [RES cdc0b62c] 304 GET /api/suppliers
[0mGET /api/projects/37/contracts [36m304[0m 51.115 ms - -[0m
2025-11-27T14:58:12.689Z [RES b703e1f9] 304 GET /api/projects/37/contracts
[projects.js] Checking for tenders: {
  tenantId: 'demo',
  projectId: 37,
  packageIds: [
    83, 61, 88, 89, 87, 85,
    64, 63, 60, 90, 86, 62,
    84, 82, 81
  ]
}
2025-11-27T14:58:12.695Z [REQ 7a14270b] GET /api/projects/37/contracts
[projects.js] Found tenders: [
  { id: 11, packageId: 61, status: 'issued' },
  { id: 29, packageId: 64, status: 'draft' },
  { id: 32, packageId: 62, status: 'draft' }
]
[projects.js] First package sourcing: {
  packageId: 83,
  packageName: 'Civils & Groundworks',
  sourcingStatus: null,
  tenderId: null,
  contractId: null,
  hasContracts: 0
}
[projects.js] Returning 15 packages
[0mGET /api/projects/37/packages [36m304[0m 69.210 ms - -[0m
2025-11-27T14:58:12.697Z [RES bd54c61e] 304 GET /api/projects/37/packages
[0mGET /api/finance/payment-applications?projectId=37 [36m304[0m 60.696 ms - -[0m
2025-11-27T14:58:12.698Z [RES 2f0fae50] 304 GET /api/finance/payment-applications?projectId=37
2025-11-27T14:58:12.701Z [REQ b47547b2] GET /api/projects/37/packages
[0mGET /api/projects/37/contracts [36m304[0m 53.561 ms - -[0m
2025-11-27T14:58:12.749Z [RES 7a14270b] 304 GET /api/projects/37/contracts
[projects.js] Checking for tenders: {
  tenantId: 'demo',
  projectId: 37,
  packageIds: [
    83, 61, 88, 89, 87, 85,
    64, 63, 60, 90, 86, 62,
    84, 82, 81
  ]
}
[projects.js] Found tenders: [
  { id: 11, packageId: 61, status: 'issued' },
  { id: 29, packageId: 64, status: 'draft' },
  { id: 32, packageId: 62, status: 'draft' }
]
[projects.js] First package sourcing: {
  packageId: 83,
  packageName: 'Civils & Groundworks',
  sourcingStatus: null,
  tenderId: null,
  contractId: null,
  hasContracts: 0
}
[projects.js] Returning 15 packages
[0mGET /api/projects/37/packages [36m304[0m 61.168 ms - -[0m
2025-11-27T14:58:12.762Z [RES b47547b2] 304 GET /api/projects/37/packages
2025-11-27T14:58:12.765Z [REQ 8275a59c] GET /api/projects/37/packages
[projects.js] Checking for tenders: {
  tenantId: 'demo',
  projectId: 37,
  packageIds: [
    83, 61, 88, 89, 87, 85,
    64, 63, 60, 90, 86, 62,
    84, 82, 81
  ]
}
[projects.js] Found tenders: [
  { id: 11, packageId: 61, status: 'issued' },
  { id: 29, packageId: 64, status: 'draft' },
  { id: 32, packageId: 62, status: 'draft' }
]
[projects.js] First package sourcing: {
  packageId: 83,
  packageName: 'Civils & Groundworks',
  sourcingStatus: null,
  tenderId: null,
  contractId: null,
  hasContracts: 0
}
[projects.js] Returning 15 packages
[0mGET /api/projects/37/packages [36m304[0m 62.510 ms - -[0m
2025-11-27T14:58:12.827Z [RES 8275a59c] 304 GET /api/projects/37/packages
2025-11-27T14:58:12.830Z [REQ beea85d4] GET /api/projects/37/packages
[projects.js] Checking for tenders: {
  tenantId: 'demo',
  projectId: 37,
  packageIds: [
    83, 61, 88, 89, 87, 85,
    64, 63, 60, 90, 86, 62,
    84, 82, 81
  ]
}
[projects.js] Found tenders: [
  { id: 11, packageId: 61, status: 'issued' },
  { id: 29, packageId: 64, status: 'draft' },
  { id: 32, packageId: 62, status: 'draft' }
]
[projects.js] First package sourcing: {
  packageId: 83,
  packageName: 'Civils & Groundworks',
  sourcingStatus: null,
  tenderId: null,
  contractId: null,
  hasContracts: 0
}
[projects.js] Returning 15 packages
[0mGET /api/projects/37/packages [36m304[0m 20.602 ms - -[0m
2025-11-27T14:58:12.851Z [RES beea85d4] 304 GET /api/projects/37/packages
2025-11-27T15:01:25.561Z [REQ 22670d2b] GET /api/auth/me
2025-11-27T15:01:25.563Z [REQ 8cede073] GET /api/auth/me
[0mGET /api/auth/me [32m200[0m 82.410 ms - 182[0m
2025-11-27T15:01:25.643Z [RES 22670d2b] 200 GET /api/auth/me
[0mGET /api/auth/me [32m200[0m 81.023 ms - 182[0m
2025-11-27T15:01:25.646Z [RES 8cede073] 200 GET /api/auth/me
2025-11-27T15:01:25.904Z [REQ 339b76fe] GET /api/projects/37/info
2025-11-27T15:01:25.904Z [REQ fb26c300] GET /api/v1/tenants/modules
[0mGET /api/v1/tenants/modules [36m304[0m 51.036 ms - -[0m
2025-11-27T15:01:25.956Z [RES fb26c300] 304 GET /api/v1/tenants/modules
2025-11-27T15:01:25.963Z [REQ b338aff6] GET /api/v1/tenants/modules
[0mGET /api/v1/tenants/modules [36m304[0m 10.615 ms - -[0m
2025-11-27T15:01:25.974Z [RES b338aff6] 304 GET /api/v1/tenants/modules
[0mGET /api/projects/37/info [36m304[0m 93.431 ms - -[0m
2025-11-27T15:01:25.997Z [RES 339b76fe] 304 GET /api/projects/37/info
2025-11-27T15:01:26.001Z [REQ 866c21a0] GET /api/projects/37/info
[0mGET /api/projects/37/info [36m304[0m 14.277 ms - -[0m
2025-11-27T15:01:26.016Z [RES 866c21a0] 304 GET /api/projects/37/info
2025-11-27T15:01:26.230Z [REQ c6ba69d5] GET /api/suppliers
2025-11-27T15:01:26.231Z [REQ e9de8c88] GET /api/projects/37/info
2025-11-27T15:01:26.232Z [REQ 37fc19e8] GET /api/v1/tenants/modules
2025-11-27T15:01:26.265Z [REQ 7662fa35] GET /api/finance/payment-applications?projectId=37
[0mGET /api/suppliers [36m304[0m 61.601 ms - -[0m
2025-11-27T15:01:26.292Z [RES c6ba69d5] 304 GET /api/suppliers
2025-11-27T15:01:26.296Z [REQ 78ef2120] GET /api/suppliers
2025-11-27T15:01:26.297Z [REQ 8d0f24ce] GET /api/projects/37/contracts
[0mGET /api/v1/tenants/modules [36m304[0m 94.748 ms - -[0m
2025-11-27T15:01:26.327Z [RES 37fc19e8] 304 GET /api/v1/tenants/modules
[0mGET /api/suppliers [36m304[0m 42.375 ms - -[0m
2025-11-27T15:01:26.338Z [RES 78ef2120] 304 GET /api/suppliers
[0mGET /api/projects/37/info [36m304[0m 110.029 ms - -[0m
2025-11-27T15:01:26.342Z [RES e9de8c88] 304 GET /api/projects/37/info
2025-11-27T15:01:26.370Z [REQ 4f41a51c] GET /api/suppliers
[0mGET /api/finance/payment-applications?projectId=37 [36m304[0m 105.851 ms - -[0m
2025-11-27T15:01:26.371Z [RES 7662fa35] 304 GET /api/finance/payment-applications?projectId=37
2025-11-27T15:01:26.375Z [REQ 17ec04b5] GET /api/finance/payment-applications?projectId=37
[0mGET /api/projects/37/contracts [36m304[0m 96.961 ms - -[0m
2025-11-27T15:01:26.395Z [RES 8d0f24ce] 304 GET /api/projects/37/contracts
2025-11-27T15:01:26.398Z [REQ ddf3af9b] GET /api/projects/37/contracts
2025-11-27T15:01:26.401Z [REQ 399157c5] GET /api/projects/37/packages
[0mGET /api/suppliers [36m304[0m 70.860 ms - -[0m
2025-11-27T15:01:26.441Z [RES 4f41a51c] 304 GET /api/suppliers
[0mGET /api/projects/37/contracts [36m304[0m 49.900 ms - -[0m
2025-11-27T15:01:26.448Z [RES ddf3af9b] 304 GET /api/projects/37/contracts
2025-11-27T15:01:26.449Z [REQ 3cd2f215] GET /api/suppliers
2025-11-27T15:01:26.451Z [REQ 1842c542] GET /api/projects/37/contracts
[0mGET /api/suppliers [36m304[0m 13.697 ms - -[0m
2025-11-27T15:01:26.462Z [RES 3cd2f215] 304 GET /api/suppliers
[0mGET /api/projects/37/contracts [36m304[0m 14.200 ms - -[0m
2025-11-27T15:01:26.466Z [RES 1842c542] 304 GET /api/projects/37/contracts
[0mGET /api/finance/payment-applications?projectId=37 [36m304[0m 94.417 ms - -[0m
2025-11-27T15:01:26.469Z [RES 17ec04b5] 304 GET /api/finance/payment-applications?projectId=37
2025-11-27T15:01:26.471Z [REQ aeca09cd] GET /api/projects/37/contracts
2025-11-27T15:01:26.473Z [REQ 19eb246b] GET /api/finance/payment-applications?projectId=37
[projects.js] Checking for tenders: {
  tenantId: 'demo',
  projectId: 37,
  packageIds: [
    83, 61, 88, 89, 87, 85,
    64, 63, 60, 90, 86, 62,
    84, 82, 81
  ]
}
[projects.js] Found tenders: [
  { id: 11, packageId: 61, status: 'issued' },
  { id: 29, packageId: 64, status: 'draft' },
  { id: 32, packageId: 62, status: 'draft' }
]
[projects.js] First package sourcing: {
  packageId: 83,
  packageName: 'Civils & Groundworks',
  sourcingStatus: null,
  tenderId: null,
  contractId: null,
  hasContracts: 0
}
[projects.js] Returning 15 packages
[0mGET /api/projects/37/packages [36m304[0m 101.640 ms - -[0m
2025-11-27T15:01:26.503Z [RES 399157c5] 304 GET /api/projects/37/packages
2025-11-27T15:01:26.506Z [REQ 8c565a66] GET /api/projects/37/packages
[0mGET /api/projects/37/contracts [36m304[0m 51.764 ms - -[0m
2025-11-27T15:01:26.523Z [RES aeca09cd] 304 GET /api/projects/37/contracts
[projects.js] Checking for tenders: {
  tenantId: 'demo',
  projectId: 37,
  packageIds: [
    83, 61, 88, 89, 87, 85,
    64, 63, 60, 90, 86, 62,
    84, 82, 81
  ]
}
[0mGET /api/finance/payment-applications?projectId=37 [36m304[0m 63.949 ms - -[0m
2025-11-27T15:01:26.537Z [RES 19eb246b] 304 GET /api/finance/payment-applications?projectId=37
[projects.js] Found tenders: [
  { id: 11, packageId: 61, status: 'issued' },
  { id: 29, packageId: 64, status: 'draft' },
  { id: 32, packageId: 62, status: 'draft' }
]
[projects.js] First package sourcing: {
  packageId: 83,
  packageName: 'Civils & Groundworks',
  sourcingStatus: null,
  tenderId: null,
  contractId: null,
  hasContracts: 0
}
[projects.js] Returning 15 packages
[0mGET /api/projects/37/packages [36m304[0m 33.381 ms - -[0m
2025-11-27T15:01:26.539Z [RES 8c565a66] 304 GET /api/projects/37/packages
2025-11-27T15:01:26.541Z [REQ 8ff173f5] GET /api/finance/payment-applications?projectId=37
2025-11-27T15:01:26.542Z [REQ 11985af8] GET /api/projects/37/packages
[projects.js] Checking for tenders: {
  tenantId: 'demo',
  projectId: 37,
  packageIds: [
    83, 61, 88, 89, 87, 85,
    64, 63, 60, 90, 86, 62,
    84, 82, 81
  ]
}
[0mGET /api/finance/payment-applications?projectId=37 [36m304[0m 48.958 ms - -[0m
2025-11-27T15:01:26.592Z [RES 8ff173f5] 304 GET /api/finance/payment-applications?projectId=37
[projects.js] Found tenders: [
  { id: 11, packageId: 61, status: 'issued' },
  { id: 29, packageId: 64, status: 'draft' },
  { id: 32, packageId: 62, status: 'draft' }
]
[projects.js] First package sourcing: {
  packageId: 83,
  packageName: 'Civils & Groundworks',
  sourcingStatus: null,
  tenderId: null,
  contractId: null,
  hasContracts: 0
}
[projects.js] Returning 15 packages
[0mGET /api/projects/37/packages [36m304[0m 51.800 ms - -[0m
2025-11-27T15:01:26.600Z [RES 11985af8] 304 GET /api/projects/37/packages
2025-11-27T15:01:26.601Z [REQ db46f403] GET /api/projects/37/packages
[projects.js] Checking for tenders: {
  tenantId: 'demo',
  projectId: 37,
  packageIds: [
    83, 61, 88, 89, 87, 85,
    64, 63, 60, 90, 86, 62,
    84, 82, 81
  ]
}
[projects.js] Found tenders: [
  { id: 11, packageId: 61, status: 'issued' },
  { id: 29, packageId: 64, status: 'draft' },
  { id: 32, packageId: 62, status: 'draft' }
]
[projects.js] First package sourcing: {
  packageId: 83,
  packageName: 'Civils & Groundworks',
  sourcingStatus: null,
  tenderId: null,
  contractId: null,
  hasContracts: 0
}
[projects.js] Returning 15 packages
[0mGET /api/projects/37/packages [36m304[0m 63.320 ms - -[0m
2025-11-27T15:01:26.664Z [RES db46f403] 304 GET /api/projects/37/packages
2025-11-27T15:01:29.640Z [REQ 0b7a57cb] GET /api/applications/30
[0mGET /api/applications/30 [36m304[0m 71.499 ms - -[0m
2025-11-27T15:01:29.711Z [RES 0b7a57cb] 304 GET /api/applications/30
2025-11-27T15:01:29.715Z [REQ 06183f96] GET /api/applications/30
[0mGET /api/applications/30 [36m304[0m 46.192 ms - -[0m
2025-11-27T15:01:29.761Z [RES 06183f96] 304 GET /api/applications/30
2025-11-27T15:02:03.326Z [REQ 3a285fca] GET /api/auth/me
2025-11-27T15:02:03.328Z [REQ bd1840e8] GET /api/auth/me
[0mGET /api/auth/me [32m200[0m 82.706 ms - 182[0m
2025-11-27T15:02:03.413Z [RES bd1840e8] 200 GET /api/auth/me
[0mGET /api/auth/me [32m200[0m 91.080 ms - 182[0m
2025-11-27T15:02:03.417Z [RES 3a285fca] 200 GET /api/auth/me
2025-11-27T15:02:03.695Z [REQ 8180383c] GET /api/projects/37/info
2025-11-27T15:02:03.698Z [REQ 2494ca9d] GET /api/v1/tenants/modules
[0mGET /api/v1/tenants/modules [32m200[0m 37.149 ms - 93[0m
2025-11-27T15:02:03.735Z [RES 2494ca9d] 200 GET /api/v1/tenants/modules
2025-11-27T15:02:03.738Z [REQ 4280eb25] GET /api/v1/tenants/modules
[0mGET /api/projects/37/info [32m200[0m 91.833 ms - 1250[0m
2025-11-27T15:02:03.787Z [RES 8180383c] 200 GET /api/projects/37/info
2025-11-27T15:02:03.792Z [REQ 6c9ecadb] GET /api/projects/37/info
[0mGET /api/v1/tenants/modules [36m304[0m 91.339 ms - -[0m
2025-11-27T15:02:03.829Z [RES 4280eb25] 304 GET /api/v1/tenants/modules
[0mGET /api/projects/37/info [36m304[0m 84.129 ms - -[0m
2025-11-27T15:02:03.876Z [RES 6c9ecadb] 304 GET /api/projects/37/info
2025-11-27T15:02:04.027Z [REQ be6e1385] GET /api/finance/payment-applications?projectId=37
2025-11-27T15:02:04.028Z [REQ 379655de] GET /api/suppliers
2025-11-27T15:02:04.029Z [REQ ee5ce164] GET /api/projects/37/info
2025-11-27T15:02:04.030Z [REQ 1e0c1a4d] GET /api/v1/tenants/modules
[0mGET /api/v1/tenants/modules [36m304[0m 35.633 ms - -[0m
2025-11-27T15:02:04.066Z [RES 1e0c1a4d] 304 GET /api/v1/tenants/modules
[0mGET /api/suppliers [32m200[0m 50.578 ms - 42624[0m
2025-11-27T15:02:04.079Z [RES 379655de] 200 GET /api/suppliers
[0mGET /api/finance/payment-applications?projectId=37 [32m200[0m 54.172 ms - 1442[0m
2025-11-27T15:02:04.082Z [RES be6e1385] 200 GET /api/finance/payment-applications?projectId=37
2025-11-27T15:02:04.085Z [REQ 3dd5a98a] GET /api/suppliers
2025-11-27T15:02:04.086Z [REQ 11fd1133] GET /api/projects/37/contracts
2025-11-27T15:02:04.087Z [REQ 5cfb2e3c] GET /api/finance/payment-applications?projectId=37
[0mGET /api/projects/37/info [36m304[0m 89.556 ms - -[0m
2025-11-27T15:02:04.119Z [RES ee5ce164] 304 GET /api/projects/37/info
[0mGET /api/suppliers [36m304[0m 39.954 ms - -[0m
2025-11-27T15:02:04.126Z [RES 3dd5a98a] 304 GET /api/suppliers
[0mGET /api/projects/37/contracts [32m200[0m 41.248 ms - 22754[0m
2025-11-27T15:02:04.128Z [RES 11fd1133] 200 GET /api/projects/37/contracts
[0mGET /api/finance/payment-applications?projectId=37 [36m304[0m 44.528 ms - -[0m
2025-11-27T15:02:04.132Z [RES 5cfb2e3c] 304 GET /api/finance/payment-applications?projectId=37
2025-11-27T15:02:04.154Z [REQ 323dc5a2] GET /api/projects/37/packages
2025-11-27T15:02:04.155Z [REQ 47f0fec8] GET /api/finance/payment-applications?projectId=37
2025-11-27T15:02:04.156Z [REQ dee95100] GET /api/suppliers
2025-11-27T15:02:04.157Z [REQ 6bf87566] GET /api/projects/37/contracts
[0mGET /api/suppliers [36m304[0m 53.612 ms - -[0m
2025-11-27T15:02:04.210Z [RES dee95100] 304 GET /api/suppliers
[0mGET /api/projects/37/contracts [36m304[0m 54.634 ms - -[0m
2025-11-27T15:02:04.213Z [RES 6bf87566] 304 GET /api/projects/37/contracts
2025-11-27T15:02:04.215Z [REQ 7a6db9b0] GET /api/suppliers
2025-11-27T15:02:04.216Z [REQ 02823a22] GET /api/projects/37/contracts
[projects.js] Checking for tenders: {
  tenantId: 'demo',
  projectId: 37,
  packageIds: [
    83, 61, 88, 89, 87, 85,
    64, 63, 60, 90, 86, 62,
    84, 82, 81
  ]
}
[0mGET /api/finance/payment-applications?projectId=37 [36m304[0m 72.050 ms - -[0m
2025-11-27T15:02:04.227Z [RES 47f0fec8] 304 GET /api/finance/payment-applications?projectId=37
[0mGET /api/suppliers [36m304[0m 14.389 ms - -[0m
2025-11-27T15:02:04.230Z [RES 7a6db9b0] 304 GET /api/suppliers
[projects.js] Found tenders: [
  { id: 11, packageId: 61, status: 'issued' },
  { id: 29, packageId: 64, status: 'draft' },
  { id: 32, packageId: 62, status: 'draft' }
]
[projects.js] First package sourcing: {
  packageId: 83,
  packageName: 'Civils & Groundworks',
  sourcingStatus: null,
  tenderId: null,
  contractId: null,
  hasContracts: 0
}
[projects.js] Returning 15 packages
[0mGET /api/projects/37/packages [32m200[0m 78.231 ms - 8605[0m
2025-11-27T15:02:04.233Z [RES 323dc5a2] 200 GET /api/projects/37/packages
2025-11-27T15:02:04.234Z [REQ aa64f76f] GET /api/finance/payment-applications?projectId=37
2025-11-27T15:02:04.236Z [REQ 4a37d9e0] GET /api/projects/37/packages
[0mGET /api/projects/37/contracts [36m304[0m 21.046 ms - -[0m
2025-11-27T15:02:04.238Z [RES 02823a22] 304 GET /api/projects/37/contracts
2025-11-27T15:02:04.270Z [REQ 20268f6f] GET /api/projects/37/contracts
[0mGET /api/projects/37/contracts [36m304[0m 24.955 ms - -[0m
2025-11-27T15:02:04.296Z [RES 20268f6f] 304 GET /api/projects/37/contracts
[0mGET /api/finance/payment-applications?projectId=37 [36m304[0m 64.773 ms - -[0m
2025-11-27T15:02:04.299Z [RES aa64f76f] 304 GET /api/finance/payment-applications?projectId=37
[projects.js] Checking for tenders: {
  tenantId: 'demo',
  projectId: 37,
  packageIds: [
    83, 61, 88, 89, 87, 85,
    64, 63, 60, 90, 86, 62,
    84, 82, 81
  ]
}
[projects.js] Found tenders: [
  { id: 11, packageId: 61, status: 'issued' },
  { id: 29, packageId: 64, status: 'draft' },
  { id: 32, packageId: 62, status: 'draft' }
]
[projects.js] First package sourcing: {
  packageId: 83,
  packageName: 'Civils & Groundworks',
  sourcingStatus: null,
  tenderId: null,
  contractId: null,
  hasContracts: 0
}
[projects.js] Returning 15 packages
[0mGET /api/projects/37/packages [36m304[0m 72.788 ms - -[0m
2025-11-27T15:02:04.309Z [RES 4a37d9e0] 304 GET /api/projects/37/packages
2025-11-27T15:02:04.311Z [REQ 59fdf613] GET /api/projects/37/packages
[projects.js] Checking for tenders: {
  tenantId: 'demo',
  projectId: 37,
  packageIds: [
    83, 61, 88, 89, 87, 85,
    64, 63, 60, 90, 86, 62,
    84, 82, 81
  ]
}
[projects.js] Found tenders: [
  { id: 11, packageId: 61, status: 'issued' },
  { id: 29, packageId: 64, status: 'draft' },
  { id: 32, packageId: 62, status: 'draft' }
]
[projects.js] First package sourcing: {
  packageId: 83,
  packageName: 'Civils & Groundworks',
  sourcingStatus: null,
  tenderId: null,
  contractId: null,
  hasContracts: 0
}
[projects.js] Returning 15 packages
[0mGET /api/projects/37/packages [36m304[0m 104.997 ms - -[0m
2025-11-27T15:02:04.417Z [RES 59fdf613] 304 GET /api/projects/37/packages
2025-11-27T15:02:04.420Z [REQ a2b3f3b5] GET /api/projects/37/packages
[projects.js] Checking for tenders: {
  tenantId: 'demo',
  projectId: 37,
  packageIds: [
    83, 61, 88, 89, 87, 85,
    64, 63, 60, 90, 86, 62,
    84, 82, 81
  ]
}
[projects.js] Found tenders: [
  { id: 11, packageId: 61, status: 'issued' },
  { id: 29, packageId: 64, status: 'draft' },
  { id: 32, packageId: 62, status: 'draft' }
]
[projects.js] First package sourcing: {
  packageId: 83,
  packageName: 'Civils & Groundworks',
  sourcingStatus: null,
  tenderId: null,
  contractId: null,
  hasContracts: 0
}
[projects.js] Returning 15 packages
[0mGET /api/projects/37/packages [36m304[0m 58.195 ms - -[0m
2025-11-27T15:02:04.478Z [RES a2b3f3b5] 304 GET /api/projects/37/packages
2025-11-27T15:02:07.055Z [REQ 7ab17306] GET /api/applications/30
[0mGET /api/applications/30 [32m200[0m 310.113 ms - 3103[0m
2025-11-27T15:02:07.365Z [RES 7ab17306] 200 GET /api/applications/30
2025-11-27T15:02:07.369Z [REQ ac77f16f] GET /api/applications/30
[0mGET /api/applications/30 [36m304[0m 55.690 ms - -[0m
2025-11-27T15:02:07.425Z [RES ac77f16f] 304 GET /api/applications/30
2025-11-27T15:04:19.451Z [REQ 71334322] GET /api/suppliers
2025-11-27T15:04:19.452Z [REQ b775072a] GET /api/finance/payment-applications?projectId=37
[0mGET /api/suppliers [36m304[0m 57.141 ms - -[0m
2025-11-27T15:04:19.508Z [RES 71334322] 304 GET /api/suppliers
2025-11-27T15:04:19.514Z [REQ 3102b783] GET /api/projects/37/contracts
[0mGET /api/finance/payment-applications?projectId=37 [36m304[0m 64.086 ms - -[0m
2025-11-27T15:04:19.517Z [RES b775072a] 304 GET /api/finance/payment-applications?projectId=37
[0mGET /api/projects/37/contracts [36m304[0m 51.826 ms - -[0m
2025-11-27T15:04:19.566Z [RES 3102b783] 304 GET /api/projects/37/contracts
2025-11-27T15:04:19.572Z [REQ 485efbfd] GET /api/projects/37/packages
[projects.js] Checking for tenders: {
  tenantId: 'demo',
  projectId: 37,
  packageIds: [
    83, 61, 88, 89, 87, 85,
    64, 63, 60, 90, 86, 62,
    84, 82, 81
  ]
}
[projects.js] Found tenders: [
  { id: 11, packageId: 61, status: 'issued' },
  { id: 29, packageId: 64, status: 'draft' },
  { id: 32, packageId: 62, status: 'draft' }
]
[projects.js] First package sourcing: {
  packageId: 83,
  packageName: 'Civils & Groundworks',
  sourcingStatus: null,
  tenderId: null,
  contractId: null,
  hasContracts: 0
}
[projects.js] Returning 15 packages
[0mGET /api/projects/37/packages [36m304[0m 61.609 ms - -[0m
2025-11-27T15:04:19.634Z [RES 485efbfd] 304 GET /api/projects/37/packages
2025-11-27T15:19:31.459Z [REQ ff4fbff5] GET /api/auth/me
2025-11-27T15:19:31.465Z [REQ aaed475e] GET /api/auth/me
[0mGET /api/auth/me [32m200[0m 52.706 ms - 182[0m
2025-11-27T15:19:31.512Z [RES ff4fbff5] 200 GET /api/auth/me
[0mGET /api/auth/me [32m200[0m 47.058 ms - 182[0m
2025-11-27T15:19:31.512Z [RES aaed475e] 200 GET /api/auth/me
2025-11-27T15:19:31.832Z [REQ 657bd549] GET /api/projects/37/info
2025-11-27T15:19:31.835Z [REQ c78e7e63] GET /api/v1/tenants/modules
[0mGET /api/v1/tenants/modules [36m304[0m 26.993 ms - -[0m
2025-11-27T15:19:31.862Z [RES c78e7e63] 304 GET /api/v1/tenants/modules
2025-11-27T15:19:31.865Z [REQ 6be613a7] GET /api/v1/tenants/modules
[0mGET /api/v1/tenants/modules [36m304[0m 9.707 ms - -[0m
2025-11-27T15:19:31.875Z [RES 6be613a7] 304 GET /api/v1/tenants/modules
[0mGET /api/projects/37/info [36m304[0m 68.289 ms - -[0m
2025-11-27T15:19:31.901Z [RES 657bd549] 304 GET /api/projects/37/info
2025-11-27T15:19:31.904Z [REQ d54d45c8] GET /api/projects/37/info
[0mGET /api/projects/37/info [36m304[0m 12.053 ms - -[0m
2025-11-27T15:19:31.916Z [RES d54d45c8] 304 GET /api/projects/37/info
2025-11-27T15:19:32.157Z [REQ b3fb0ee4] GET /api/suppliers
2025-11-27T15:19:32.158Z [REQ 48f23e58] GET /api/projects/37/info
2025-11-27T15:19:32.159Z [REQ 03c0d5a9] GET /api/v1/tenants/modules
2025-11-27T15:19:32.192Z [REQ 96c0cb75] GET /api/finance/payment-applications?projectId=37
[0mGET /api/suppliers [36m304[0m 60.502 ms - -[0m
2025-11-27T15:19:32.217Z [RES b3fb0ee4] 304 GET /api/suppliers
2025-11-27T15:19:32.221Z [REQ 9b9c67ba] GET /api/suppliers
2025-11-27T15:19:32.223Z [REQ e48fe710] GET /api/projects/37/contracts
[0mGET /api/v1/tenants/modules [36m304[0m 89.379 ms - -[0m
2025-11-27T15:19:32.249Z [RES 03c0d5a9] 304 GET /api/v1/tenants/modules
[0mGET /api/projects/37/info [36m304[0m 93.639 ms - -[0m
2025-11-27T15:19:32.252Z [RES 48f23e58] 304 GET /api/projects/37/info
[0mGET /api/suppliers [36m304[0m 36.621 ms - -[0m
2025-11-27T15:19:32.258Z [RES 9b9c67ba] 304 GET /api/suppliers
2025-11-27T15:19:32.284Z [REQ cfc3210e] GET /api/suppliers
[0mGET /api/projects/37/contracts [36m304[0m 71.926 ms - -[0m
2025-11-27T15:19:32.295Z [RES e48fe710] 304 GET /api/projects/37/contracts
2025-11-27T15:19:32.300Z [REQ 279a74f2] GET /api/projects/37/contracts
2025-11-27T15:19:32.301Z [REQ 8dcee09a] GET /api/projects/37/packages
[0mGET /api/suppliers [36m304[0m 18.989 ms - -[0m
2025-11-27T15:19:32.303Z [RES cfc3210e] 304 GET /api/suppliers
[0mGET /api/finance/payment-applications?projectId=37 [36m304[0m 114.656 ms - -[0m
2025-11-27T15:19:32.307Z [RES 96c0cb75] 304 GET /api/finance/payment-applications?projectId=37
2025-11-27T15:19:32.308Z [REQ 98e2fc9a] GET /api/suppliers
2025-11-27T15:19:32.310Z [REQ 4890aade] GET /api/finance/payment-applications?projectId=37
[0mGET /api/suppliers [36m304[0m 13.835 ms - -[0m
2025-11-27T15:19:32.322Z [RES 98e2fc9a] 304 GET /api/suppliers
[0mGET /api/projects/37/contracts [36m304[0m 25.523 ms - -[0m
2025-11-27T15:19:32.325Z [RES 279a74f2] 304 GET /api/projects/37/contracts
2025-11-27T15:19:32.328Z [REQ 691f8b50] GET /api/projects/37/contracts
[0mGET /api/finance/payment-applications?projectId=37 [36m304[0m 25.635 ms - -[0m
2025-11-27T15:19:32.335Z [RES 4890aade] 304 GET /api/finance/payment-applications?projectId=37
2025-11-27T15:19:32.339Z [REQ 49ad037c] GET /api/finance/payment-applications?projectId=37
[0mGET /api/projects/37/contracts [36m304[0m 54.983 ms - -[0m
2025-11-27T15:19:32.383Z [RES 691f8b50] 304 GET /api/projects/37/contracts
2025-11-27T15:19:32.387Z [REQ 7e12551c] GET /api/projects/37/contracts
[projects.js] Checking for tenders: {
  tenantId: 'demo',
  projectId: 37,
  packageIds: [
    83, 61, 88, 89, 87, 85,
    64, 63, 60, 90, 86, 62,
    84, 82, 81
  ]
}
[0mGET /api/finance/payment-applications?projectId=37 [36m304[0m 52.605 ms - -[0m
2025-11-27T15:19:32.391Z [RES 49ad037c] 304 GET /api/finance/payment-applications?projectId=37
2025-11-27T15:19:32.395Z [REQ d58e9b25] GET /api/finance/payment-applications?projectId=37
[projects.js] Found tenders: [
  { id: 11, packageId: 61, status: 'issued' },
  { id: 29, packageId: 64, status: 'draft' },
  { id: 32, packageId: 62, status: 'draft' }
]
[projects.js] First package sourcing: {
  packageId: 83,
  packageName: 'Civils & Groundworks',
  sourcingStatus: null,
  tenderId: null,
  contractId: null,
  hasContracts: 0
}
[projects.js] Returning 15 packages
[0mGET /api/projects/37/packages [36m304[0m 98.201 ms - -[0m
2025-11-27T15:19:32.399Z [RES 8dcee09a] 304 GET /api/projects/37/packages
2025-11-27T15:19:32.403Z [REQ f8754358] GET /api/projects/37/packages
[0mGET /api/projects/37/contracts [36m304[0m 24.072 ms - -[0m
2025-11-27T15:19:32.412Z [RES 7e12551c] 304 GET /api/projects/37/contracts
[0mGET /api/finance/payment-applications?projectId=37 [36m304[0m 41.609 ms - -[0m
2025-11-27T15:19:32.440Z [RES d58e9b25] 304 GET /api/finance/payment-applications?projectId=37
[projects.js] Checking for tenders: {
  tenantId: 'demo',
  projectId: 37,
  packageIds: [
    83, 61, 88, 89, 87, 85,
    64, 63, 60, 90, 86, 62,
    84, 82, 81
  ]
}
[projects.js] Found tenders: [
  { id: 11, packageId: 61, status: 'issued' },
  { id: 29, packageId: 64, status: 'draft' },
  { id: 32, packageId: 62, status: 'draft' }
]
[projects.js] First package sourcing: {
  packageId: 83,
  packageName: 'Civils & Groundworks',
  sourcingStatus: null,
  tenderId: null,
  contractId: null,
  hasContracts: 0
}
[projects.js] Returning 15 packages
[0mGET /api/projects/37/packages [36m304[0m 83.581 ms - -[0m
2025-11-27T15:19:32.486Z [RES f8754358] 304 GET /api/projects/37/packages
2025-11-27T15:19:32.492Z [REQ 91d2a8ac] GET /api/projects/37/packages
[projects.js] Checking for tenders: {
  tenantId: 'demo',
  projectId: 37,
  packageIds: [
    83, 61, 88, 89, 87, 85,
    64, 63, 60, 90, 86, 62,
    84, 82, 81
  ]
}
[projects.js] Found tenders: [
  { id: 11, packageId: 61, status: 'issued' },
  { id: 29, packageId: 64, status: 'draft' },
  { id: 32, packageId: 62, status: 'draft' }
]
[projects.js] First package sourcing: {
  packageId: 83,
  packageName: 'Civils & Groundworks',
  sourcingStatus: null,
  tenderId: null,
  contractId: null,
  hasContracts: 0
}
[projects.js] Returning 15 packages
[0mGET /api/projects/37/packages [36m304[0m 82.889 ms - -[0m
2025-11-27T15:19:32.575Z [RES 91d2a8ac] 304 GET /api/projects/37/packages
2025-11-27T15:19:32.578Z [REQ 085699e1] GET /api/projects/37/packages
[projects.js] Checking for tenders: {
  tenantId: 'demo',
  projectId: 37,
  packageIds: [
    83, 61, 88, 89, 87, 85,
    64, 63, 60, 90, 86, 62,
    84, 82, 81
  ]
}
[projects.js] Found tenders: [
  { id: 11, packageId: 61, status: 'issued' },
  { id: 29, packageId: 64, status: 'draft' },
  { id: 32, packageId: 62, status: 'draft' }
]
[projects.js] First package sourcing: {
  packageId: 83,
  packageName: 'Civils & Groundworks',
  sourcingStatus: null,
  tenderId: null,
  contractId: null,
  hasContracts: 0
}
[projects.js] Returning 15 packages
[0mGET /api/projects/37/packages [36m304[0m 24.041 ms - -[0m
2025-11-27T15:19:32.603Z [RES 085699e1] 304 GET /api/projects/37/packages
2025-11-27T15:19:35.937Z [REQ 80788cd2] GET /api/applications/30
[0mGET /api/applications/30 [36m304[0m 167.016 ms - -[0m
2025-11-27T15:19:36.104Z [RES 80788cd2] 304 GET /api/applications/30
2025-11-27T15:19:36.107Z [REQ a1ad5061] GET /api/applications/30
[0mGET /api/applications/30 [36m304[0m 13.047 ms - -[0m
2025-11-27T15:19:36.120Z [RES a1ad5061] 304 GET /api/applications/30
2025-11-27T15:20:32.162Z [REQ deeac4b7] GET /api/payment-applications/30/certificate/download
[0mGET /api/payment-applications/30/certificate/download [33m404[0m 54.460 ms - 187[0m
2025-11-27T15:20:32.217Z [RES deeac4b7] 404 GET /api/payment-applications/30/certificate/download
2025-11-27T15:21:02.164Z [REQ 404821cf] GET /api/applications?page=1&pageSize=50
[AFP DEBUG] First item: {
  "id": 30,
  "tenantId": "demo",
  "projectId": 37,
  "supplierId": 174,
  "contractId": 13,
  "applicationNumber": 3,
  "applicationNo": "PA-003",
  "reference": null,
  "title": "Payment Application #3",
  "applicationDate": "2025-11-12T12:29:08.568Z",
  "valuationDate": "2025-11-12T00:00:00.000Z",
  "dueDate": "2025-11-26T00:00:00.000Z",
  "finalPaymentDate": "2025-12-17T00:00:00.000Z",
  "periodStart": null,
  "periodEnd": null,
  "assessmentDate": null,
  "status": "PAYMENT_NOTICE_SENT",
  "currency": "GBP",
  "claimedGrossValue": "50000",
  "claimedRetention": "2500",
  "claimedNetValue": "0",
  "claimedPreviouslyPaid": "0",
  "claimedThisPeriod": "50000",
  "grossToDate": "0",
  "variationsValue": "0",
  "prelimsValue": "0",
  "retentionValue": "0",
  "mosValue": "0",
  "offsiteValue": "0",
  "deductionsValue": "0",
  "netClaimed": "0",
  "certifiedGrossValue": "50000",
  "certifiedRetention": "2500",
  "certifiedNetValue": null,
  "certifiedPreviouslyPaid": null,
  "certifiedThisPeriod": "47500",
  "certifiedAmount": null,
  "certifiedDate": "2025-11-27T11:07:07.523Z",
  "certifiedByUserId": 13,
  "certificationNotes": "admin: Unknown QS\n\n",
  "amountPaid": null,
  "paidDate": null,
  "paymentReference": null,
  "lineItems": null,
  "variations": null,
  "materialsOnSite": null,
  "previouslyValued": null,
  "submissionDocument": null,
  "valuationDocument": null,
  "paymentNoticeDocument": null,
  "payLessNoticeDocument": null,
  "paymentCertificateUrl": null,
  "paymentCertificateGeneratedAt": null,
  "contractorNotes": "",
  "qsNotes": null,
  "internalNotes": null,
  "rejectionReason": null,
  "notes": null,
  "submittedBy": 13,
  "submittedAt": "2025-11-12T12:29:08.589Z",
  "reviewedBy": 13,
  "reviewedAt": "2025-11-27T11:07:07.523Z",
  "approvedBy": null,
  "approvedAt": null,
  "cancelledBy": null,
  "cancelledAt": null,
  "cancellationReason": null,
  "paymentNoticeSent": true,
  "paymentNoticeSentAt": "2025-11-27T11:07:07.587Z",
  "paymentNoticeAmount": "47500",
  "paymentNoticeIssuedAt": "2025-11-27T11:07:07.587Z",
  "payLessNoticeSent": false,
  "payLessNoticeSentAt": null,
  "payLessNoticeAmount": null,
  "payLessNoticeReason": null,
  "payLessReason": null,
  "payLessNoticeIssuedAt": null,
  "retentionPercentage": "5",
  "retentionHeldToDate": "0",
  "retentionReleasedPC": "0",
  "retentionReleasedFinal": "0",
  "isActCompliant": true,
  "complianceNotes": null,
  "disputeRaised": false,
  "disputeDetails": null,
  "sourceType": null,
  "emailSender": null,
  "emailSubject": null,
  "emailBody": null,
  "emailReceivedAt": null,
  "emailMessageId": null,
  "emailAttachmentCount": null,
  "ocrStatus": null,
  "ocrStartedAt": null,
  "ocrCompletedAt": null,
  "ocrError": null,
  "ocrRawText": null,
  "ocrConfidence": null,
  "ocrS3Key": null,
  "ocrS3Bucket": null,
  "ocrJobId": null,
  "ocrExtractedData": null,
  "contractMatchMethod": null,
  "contractMatchConfidence": null,
  "suggestedContracts": null,
  "contractMatchedAt": null,
  "contractMatchedBy": null,
  "autoPopulated": false,
  "requiresReview": false,
  "ocrReviewedBy": null,
  "ocrReviewedAt": null,
  "ocrReviewNotes": null,
  "createdAt": "2025-11-12T12:29:08.569Z",
  "updatedAt": "2025-11-27T11:07:07.589Z",
  "project": {
    "id": 37,
    "tenantId": "demo",
    "code": "THE DEMO",
    "name": "THE DEMO",
    "description": "Major structural strengthening of the A40 viaduct including bearing replacements, deck repairs, and traffic management. Critical infrastructure project requiring minimal disruption to existing traffic flows.",
    "clientId": 47,
    "statusId": null,
    "typeId": null,
    "status": "Active",
    "type": "General",
    "projectManagerId": null,
    "country": null,
    "currency": null,
    "unitSystem": null,
    "taxScheme": null,
    "contractForm": null,
    "clientContactId": null,
    "sitePostcode": "A40, Westshire, UK",
    "siteLat": null,
    "siteLng": null,
    "contractType": null,
    "paymentTermsDays": null,
    "retentionPct": null,
    "projectManagerUserId": null,
    "quantitySurveyorUserId": null,
    "startPlanned": "2025-03-01T00:00:00.000Z",
    "endPlanned": "2026-03-31T00:00:00.000Z",
    "startActual": null,
    "endActual": null,
    "labels": null,
    "budget": "12500000",
    "actualSpend": null,
    "startDate": null,
    "endDate": null,
    "deletedAt": null,
    "createdAt": "2025-11-03T09:41:01.322Z",
    "updatedAt": "2025-11-03T11:58:57.598Z"
  },
  "supplier": {
    "id": 174,
    "tenantId": "demo",
    "name": "Mechanical Specialists Ltd 9",
    "status": "active",
    "email": "tender+mech9@demo.local",
    "phone": "+44 20 1008000 2008",
    "companyRegNo": null,
    "vatNo": null,
    "insurancePolicyNumber": "INS-MECH-1008",
    "insuranceExpiry": "2026-12-31T00:00:00.000Z",
    "hsAccreditations": "Bronze",
    "performanceScore": "67.18196725940425",
    "complianceStatus": "compliant",
    "createdAt": "2025-11-03T09:41:01.319Z",
    "updatedAt": "2025-11-03T09:41:01.319Z"
  },
  "contract": {
    "id": 13,
    "projectId": 37,
    "packageId": 63,
    "supplierId": 174,
    "title": "Mechanical Package - Contract",
    "contractRef": "CNT-A40-001",
    "value": "2473903.98",
    "currency": "GBP",
    "status": "active",
    "signedAt": null,
    "startDate": "2025-11-03T09:41:02.968Z",
    "endDate": "2026-05-02T09:41:02.968Z",
    "retentionPct": null,
    "paymentTerms": null,
    "notes": null,
    "internalTeam": null,
    "createdAt": "2025-11-03T09:41:02.969Z",
    "updatedAt": "2025-11-27T11:07:07.584Z",
    "originalValue": null,
    "managedByUserId": null,
    "pdfUrl": null,
    "tenantId": "demo",
    "documentSource": "NONE",
    "draftDocumentUrl": null,
    "draftDocumentName": null,
    "signedDocumentUrl": null,
    "signedDocumentName": null,
    "signedDocumentUploadedAt": null,
    "signedDocumentUploadedBy": null,
    "ocrStatus": "NONE",
    "ocrRawText": null,
    "ocrExtractedData": null,
    "ocrConfidence": null,
    "ocrReviewedBy": null,
    "ocrReviewedAt": null,
    "ocrReviewNotes": null,
    "issuedAt": null,
    "issuedBy": null,
    "signedBy": null,
    "contractTypeId": null,
    "rfxId": null,
    "awardId": 14,
    "draftCreatedAt": null,
    "lockedAt": null,
    "sourceMode": null,
    "paymentFrequency": "MONTHLY",
    "paymentDueDays": 14,
    "paymentFinalDays": 21,
    "retentionPercentage": "5",
    "retentionLimit": null,
    "valuationDayOfMonth": null,
    "nextApplicationDue": null,
    "totalCertifiedToDate": "47500",
    "totalPaidToDate": "0",
    "retentionHeld": "0",
    "retentionReleased": "0"
  }
}
[0mGET /api/applications?page=1&pageSize=50 [32m200[0m 118.868 ms - 10898[0m
2025-11-27T15:21:02.284Z [RES 404821cf] 200 GET /api/applications?page=1&pageSize=50
2025-11-27T15:21:02.297Z [REQ e83ca500] GET /api/applications?page=1&pageSize=50
[AFP DEBUG] First item: {
  "id": 30,
  "tenantId": "demo",
  "projectId": 37,
  "supplierId": 174,
  "contractId": 13,
  "applicationNumber": 3,
  "applicationNo": "PA-003",
  "reference": null,
  "title": "Payment Application #3",
  "applicationDate": "2025-11-12T12:29:08.568Z",
  "valuationDate": "2025-11-12T00:00:00.000Z",
  "dueDate": "2025-11-26T00:00:00.000Z",
  "finalPaymentDate": "2025-12-17T00:00:00.000Z",
  "periodStart": null,
  "periodEnd": null,
  "assessmentDate": null,
  "status": "PAYMENT_NOTICE_SENT",
  "currency": "GBP",
  "claimedGrossValue": "50000",
  "claimedRetention": "2500",
  "claimedNetValue": "0",
  "claimedPreviouslyPaid": "0",
  "claimedThisPeriod": "50000",
  "grossToDate": "0",
  "variationsValue": "0",
  "prelimsValue": "0",
  "retentionValue": "0",
  "mosValue": "0",
  "offsiteValue": "0",
  "deductionsValue": "0",
  "netClaimed": "0",
  "certifiedGrossValue": "50000",
  "certifiedRetention": "2500",
  "certifiedNetValue": null,
  "certifiedPreviouslyPaid": null,
  "certifiedThisPeriod": "47500",
  "certifiedAmount": null,
  "certifiedDate": "2025-11-27T11:07:07.523Z",
  "certifiedByUserId": 13,
  "certificationNotes": "admin: Unknown QS\n\n",
  "amountPaid": null,
  "paidDate": null,
  "paymentReference": null,
  "lineItems": null,
  "variations": null,
  "materialsOnSite": null,
  "previouslyValued": null,
  "submissionDocument": null,
  "valuationDocument": null,
  "paymentNoticeDocument": null,
  "payLessNoticeDocument": null,
  "paymentCertificateUrl": null,
  "paymentCertificateGeneratedAt": null,
  "contractorNotes": "",
  "qsNotes": null,
  "internalNotes": null,
  "rejectionReason": null,
  "notes": null,
  "submittedBy": 13,
  "submittedAt": "2025-11-12T12:29:08.589Z",
  "reviewedBy": 13,
  "reviewedAt": "2025-11-27T11:07:07.523Z",
  "approvedBy": null,
  "approvedAt": null,
  "cancelledBy": null,
  "cancelledAt": null,
  "cancellationReason": null,
  "paymentNoticeSent": true,
  "paymentNoticeSentAt": "2025-11-27T11:07:07.587Z",
  "paymentNoticeAmount": "47500",
  "paymentNoticeIssuedAt": "2025-11-27T11:07:07.587Z",
  "payLessNoticeSent": false,
  "payLessNoticeSentAt": null,
  "payLessNoticeAmount": null,
  "payLessNoticeReason": null,
  "payLessReason": null,
  "payLessNoticeIssuedAt": null,
  "retentionPercentage": "5",
  "retentionHeldToDate": "0",
  "retentionReleasedPC": "0",
  "retentionReleasedFinal": "0",
  "isActCompliant": true,
  "complianceNotes": null,
  "disputeRaised": false,
  "disputeDetails": null,
  "sourceType": null,
  "emailSender": null,
  "emailSubject": null,
  "emailBody": null,
  "emailReceivedAt": null,
  "emailMessageId": null,
  "emailAttachmentCount": null,
  "ocrStatus": null,
  "ocrStartedAt": null,
  "ocrCompletedAt": null,
  "ocrError": null,
  "ocrRawText": null,
  "ocrConfidence": null,
  "ocrS3Key": null,
  "ocrS3Bucket": null,
  "ocrJobId": null,
  "ocrExtractedData": null,
  "contractMatchMethod": null,
  "contractMatchConfidence": null,
  "suggestedContracts": null,
  "contractMatchedAt": null,
  "contractMatchedBy": null,
  "autoPopulated": false,
  "requiresReview": false,
  "ocrReviewedBy": null,
  "ocrReviewedAt": null,
  "ocrReviewNotes": null,
  "createdAt": "2025-11-12T12:29:08.569Z",
  "updatedAt": "2025-11-27T11:07:07.589Z",
  "project": {
    "id": 37,
    "tenantId": "demo",
    "code": "THE DEMO",
    "name": "THE DEMO",
    "description": "Major structural strengthening of the A40 viaduct including bearing replacements, deck repairs, and traffic management. Critical infrastructure project requiring minimal disruption to existing traffic flows.",
    "clientId": 47,
    "statusId": null,
    "typeId": null,
    "status": "Active",
    "type": "General",
    "projectManagerId": null,
    "country": null,
    "currency": null,
    "unitSystem": null,
    "taxScheme": null,
    "contractForm": null,
    "clientContactId": null,
    "sitePostcode": "A40, Westshire, UK",
    "siteLat": null,
    "siteLng": null,
    "contractType": null,
    "paymentTermsDays": null,
    "retentionPct": null,
    "projectManagerUserId": null,
    "quantitySurveyorUserId": null,
    "startPlanned": "2025-03-01T00:00:00.000Z",
    "endPlanned": "2026-03-31T00:00:00.000Z",
    "startActual": null,
    "endActual": null,
    "labels": null,
    "budget": "12500000",
    "actualSpend": null,
    "startDate": null,
    "endDate": null,
    "deletedAt": null,
    "createdAt": "2025-11-03T09:41:01.322Z",
    "updatedAt": "2025-11-03T11:58:57.598Z"
  },
  "supplier": {
    "id": 174,
    "tenantId": "demo",
    "name": "Mechanical Specialists Ltd 9",
    "status": "active",
    "email": "tender+mech9@demo.local",
    "phone": "+44 20 1008000 2008",
    "companyRegNo": null,
    "vatNo": null,
    "insurancePolicyNumber": "INS-MECH-1008",
    "insuranceExpiry": "2026-12-31T00:00:00.000Z",
    "hsAccreditations": "Bronze",
    "performanceScore": "67.18196725940425",
    "complianceStatus": "compliant",
    "createdAt": "2025-11-03T09:41:01.319Z",
    "updatedAt": "2025-11-03T09:41:01.319Z"
  },
  "contract": {
    "id": 13,
    "projectId": 37,
    "packageId": 63,
    "supplierId": 174,
    "title": "Mechanical Package - Contract",
    "contractRef": "CNT-A40-001",
    "value": "2473903.98",
    "currency": "GBP",
    "status": "active",
    "signedAt": null,
    "startDate": "2025-11-03T09:41:02.968Z",
    "endDate": "2026-05-02T09:41:02.968Z",
    "retentionPct": null,
    "paymentTerms": null,
    "notes": null,
    "internalTeam": null,
    "createdAt": "2025-11-03T09:41:02.969Z",
    "updatedAt": "2025-11-27T11:07:07.584Z",
    "originalValue": null,
    "managedByUserId": null,
    "pdfUrl": null,
    "tenantId": "demo",
    "documentSource": "NONE",
    "draftDocumentUrl": null,
    "draftDocumentName": null,
    "signedDocumentUrl": null,
    "signedDocumentName": null,
    "signedDocumentUploadedAt": null,
    "signedDocumentUploadedBy": null,
    "ocrStatus": "NONE",
    "ocrRawText": null,
    "ocrExtractedData": null,
    "ocrConfidence": null,
    "ocrReviewedBy": null,
    "ocrReviewedAt": null,
    "ocrReviewNotes": null,
    "issuedAt": null,
    "issuedBy": null,
    "signedBy": null,
    "contractTypeId": null,
    "rfxId": null,
    "awardId": 14,
    "draftCreatedAt": null,
    "lockedAt": null,
    "sourceMode": null,
    "paymentFrequency": "MONTHLY",
    "paymentDueDays": 14,
    "paymentFinalDays": 21,
    "retentionPercentage": "5",
    "retentionLimit": null,
    "valuationDayOfMonth": null,
    "nextApplicationDue": null,
    "totalCertifiedToDate": "47500",
    "totalPaidToDate": "0",
    "retentionHeld": "0",
    "retentionReleased": "0"
  }
}
[0mGET /api/applications?page=1&pageSize=50 [36m304[0m 87.201 ms - -[0m
2025-11-27T15:21:02.384Z [RES e83ca500] 304 GET /api/applications?page=1&pageSize=50
2025-11-27T15:21:09.301Z [REQ ef75d8b4] GET /api/finance/invoices?matchStatus=needs_review&limit=50
[0mGET /api/finance/invoices?matchStatus=needs_review&limit=50 [32m200[0m 50.858 ms - 32[0m
2025-11-27T15:21:09.353Z [RES ef75d8b4] 200 GET /api/finance/invoices?matchStatus=needs_review&limit=50
2025-11-27T15:21:09.355Z [REQ d8915574] GET /api/finance/invoices?matchStatus=needs_review&limit=50
2025-11-27T15:21:09.359Z [REQ 8510f997] GET /api/finance/invoices?status=received&dateFrom=2025-10-28&limit=50
[0mGET /api/finance/invoices?status=received&dateFrom=2025-10-28&limit=50 [32m200[0m 55.494 ms - 32[0m
2025-11-27T15:21:09.414Z [RES 8510f997] 200 GET /api/finance/invoices?status=received&dateFrom=2025-10-28&limit=50
2025-11-27T15:21:09.427Z [REQ 9f2d3247] GET /api/finance/pos?status=issued&dateFrom=2025-10-28&limit=50
[0mGET /api/finance/invoices?matchStatus=needs_review&limit=50 [36m304[0m 74.776 ms - -[0m
2025-11-27T15:21:09.430Z [RES d8915574] 304 GET /api/finance/invoices?matchStatus=needs_review&limit=50
2025-11-27T15:21:09.441Z [REQ 65bca1fc] GET /api/finance/invoices?status=received&dateFrom=2025-10-28&limit=50
[0mGET /api/finance/pos?status=issued&dateFrom=2025-10-28&limit=50 [32m200[0m 193.998 ms - 32[0m
2025-11-27T15:21:09.621Z [RES 9f2d3247] 200 GET /api/finance/pos?status=issued&dateFrom=2025-10-28&limit=50
[0mGET /api/finance/invoices?status=received&dateFrom=2025-10-28&limit=50 [36m304[0m 186.296 ms - -[0m
2025-11-27T15:21:09.627Z [RES 65bca1fc] 304 GET /api/finance/invoices?status=received&dateFrom=2025-10-28&limit=50
2025-11-27T15:21:09.632Z [REQ 8933aa2d] GET /api/finance/pos?status=issued&dateFrom=2025-10-28&limit=50
[0mGET /api/finance/pos?status=issued&dateFrom=2025-10-28&limit=50 [36m304[0m 124.209 ms - -[0m
2025-11-27T15:21:09.757Z [RES 8933aa2d] 304 GET /api/finance/pos?status=issued&dateFrom=2025-10-28&limit=50
2025-11-27T15:21:10.846Z [REQ 9a117228] GET /api/projects?limit=200&orderBy=name.asc
2025-11-27T15:21:10.852Z [REQ 3351a3ad] GET /api/suppliers?limit=200&orderBy=name.asc
2025-11-27T15:21:10.857Z [REQ 76b6c04d] GET /api/finance/invoices?limit=25&offset=0&orderBy=createdAt.desc
2025-11-27T15:21:10.862Z [REQ c512e133] GET /api/settings/finance
2025-11-27T15:21:10.865Z [REQ a87e9a2d] GET /api/finance/invoices?limit=1000
[0mGET /api/suppliers?limit=200&orderBy=name.asc [32m200[0m 67.056 ms - 42624[0m
2025-11-27T15:21:10.919Z [RES 3351a3ad] 200 GET /api/suppliers?limit=200&orderBy=name.asc
2025-11-27T15:21:10.926Z [REQ 7960e9f9] GET /api/suppliers?limit=200&orderBy=name.asc
[0mGET /api/settings/finance [32m200[0m 67.511 ms - 85[0m
2025-11-27T15:21:10.930Z [RES c512e133] 200 GET /api/settings/finance
[0mGET /api/finance/invoices?limit=1000 [32m200[0m 67.723 ms - 50863[0m
2025-11-27T15:21:10.933Z [RES a87e9a2d] 200 GET /api/finance/invoices?limit=1000
2025-11-27T15:21:10.937Z [REQ ae1d892d] GET /api/settings/finance
2025-11-27T15:21:10.939Z [REQ 14915cc8] GET /api/finance/invoices?limit=1000
[0mGET /api/finance/invoices?limit=25&offset=0&orderBy=createdAt.desc [32m200[0m 85.222 ms - 41211[0m
2025-11-27T15:21:10.943Z [RES 76b6c04d] 200 GET /api/finance/invoices?limit=25&offset=0&orderBy=createdAt.desc
2025-11-27T15:21:10.947Z [REQ df6f466d] GET /api/finance/invoices?limit=25&offset=0&orderBy=createdAt.desc
[0mGET /api/suppliers?limit=200&orderBy=name.asc [36m304[0m 101.999 ms - -[0m
2025-11-27T15:21:11.028Z [RES 7960e9f9] 304 GET /api/suppliers?limit=200&orderBy=name.asc
2025-11-27T15:21:11.032Z [REQ 0642c478] GET /api/suppliers?limit=200&orderBy=name.asc
[0mGET /api/settings/finance [36m304[0m 136.492 ms - -[0m
2025-11-27T15:21:11.074Z [RES ae1d892d] 304 GET /api/settings/finance
[0mGET /api/finance/invoices?limit=1000 [36m304[0m 142.579 ms - -[0m
2025-11-27T15:21:11.081Z [RES 14915cc8] 304 GET /api/finance/invoices?limit=1000
[0mGET /api/suppliers?limit=200&orderBy=name.asc [36m304[0m 53.914 ms - -[0m
2025-11-27T15:21:11.086Z [RES 0642c478] 304 GET /api/suppliers?limit=200&orderBy=name.asc
[0mGET /api/finance/invoices?limit=25&offset=0&orderBy=createdAt.desc [36m304[0m 142.028 ms - -[0m
2025-11-27T15:21:11.089Z [RES df6f466d] 304 GET /api/finance/invoices?limit=25&offset=0&orderBy=createdAt.desc
2025-11-27T15:21:11.092Z [REQ 13203982] GET /api/finance/invoices?limit=25&offset=0&orderBy=createdAt.desc
2025-11-27T15:21:11.118Z [REQ f5bebc94] GET /api/suppliers?limit=200&orderBy=name.asc
[0mGET /api/finance/invoices?limit=25&offset=0&orderBy=createdAt.desc [36m304[0m 132.131 ms - -[0m
2025-11-27T15:21:11.224Z [RES 13203982] 304 GET /api/finance/invoices?limit=25&offset=0&orderBy=createdAt.desc
2025-11-27T15:21:11.228Z [REQ f6ae7f65] GET /api/finance/invoices?limit=25&offset=0&orderBy=createdAt.desc
[0mGET /api/suppliers?limit=200&orderBy=name.asc [36m304[0m 184.040 ms - -[0m
2025-11-27T15:21:11.302Z [RES f5bebc94] 304 GET /api/suppliers?limit=200&orderBy=name.asc
[0mGET /api/finance/invoices?limit=25&offset=0&orderBy=createdAt.desc [36m304[0m 79.360 ms - -[0m
2025-11-27T15:21:11.307Z [RES f6ae7f65] 304 GET /api/finance/invoices?limit=25&offset=0&orderBy=createdAt.desc
[0mGET /api/projects?limit=200&orderBy=name.asc [32m200[0m 489.493 ms - 58476[0m
2025-11-27T15:21:11.336Z [RES 9a117228] 200 GET /api/projects?limit=200&orderBy=name.asc
2025-11-27T15:21:11.341Z [REQ c769edb2] GET /api/projects?limit=200&orderBy=name.asc
[0mGET /api/projects?limit=200&orderBy=name.asc [36m304[0m 299.674 ms - -[0m
2025-11-27T15:21:11.641Z [RES c769edb2] 304 GET /api/projects?limit=200&orderBy=name.asc
2025-11-27T15:21:11.648Z [REQ 8cb9c377] GET /api/projects?limit=200&orderBy=name.asc
[0mGET /api/projects?limit=200&orderBy=name.asc [36m304[0m 105.866 ms - -[0m
2025-11-27T15:21:11.754Z [RES 8cb9c377] 304 GET /api/projects?limit=200&orderBy=name.asc
2025-11-27T15:21:11.758Z [REQ 00c18e55] GET /api/projects?limit=200&orderBy=name.asc
[0mGET /api/projects?limit=200&orderBy=name.asc [36m304[0m 40.474 ms - -[0m
2025-11-27T15:21:11.798Z [RES 00c18e55] 304 GET /api/projects?limit=200&orderBy=name.asc
2025-11-27T15:21:14.600Z [REQ 6aa60cda] GET /api/projects?limit=200&orderBy=name.asc
2025-11-27T15:21:14.604Z [REQ 58594bbd] GET /api/finance/receipts?limit=25&offset=0&orderBy=receivedDate.desc
[0mGET /api/finance/receipts?limit=25&offset=0&orderBy=receivedDate.desc [32m200[0m 24.460 ms - 22[0m
2025-11-27T15:21:14.628Z [RES 58594bbd] 200 GET /api/finance/receipts?limit=25&offset=0&orderBy=receivedDate.desc
2025-11-27T15:21:14.631Z [REQ f469461a] GET /api/finance/receipts?limit=25&offset=0&orderBy=receivedDate.desc
[0mGET /api/projects?limit=200&orderBy=name.asc [36m304[0m 50.394 ms - -[0m
2025-11-27T15:21:14.651Z [RES 6aa60cda] 304 GET /api/projects?limit=200&orderBy=name.asc
2025-11-27T15:21:14.660Z [REQ 5ea02f61] GET /api/projects?limit=200&orderBy=name.asc
[0mGET /api/finance/receipts?limit=25&offset=0&orderBy=receivedDate.desc [36m304[0m 48.703 ms - -[0m
2025-11-27T15:21:14.680Z [RES f469461a] 304 GET /api/finance/receipts?limit=25&offset=0&orderBy=receivedDate.desc
[0mGET /api/projects?limit=200&orderBy=name.asc [36m304[0m 75.885 ms - -[0m
2025-11-27T15:21:14.736Z [RES 5ea02f61] 304 GET /api/projects?limit=200&orderBy=name.asc
2025-11-27T15:21:15.814Z [REQ d0e36aec] GET /api/suppliers?limit=200&orderBy=name.asc
2025-11-27T15:21:15.815Z [REQ d6a96faa] GET /api/finance/pos?limit=25&offset=0&orderBy=issueDate.desc
2025-11-27T15:21:15.816Z [REQ 55d5ddd5] GET /api/projects?limit=200&orderBy=name.asc
[0mGET /api/suppliers?limit=200&orderBy=name.asc [36m304[0m 222.939 ms - -[0m
2025-11-27T15:21:16.038Z [RES d0e36aec] 304 GET /api/suppliers?limit=200&orderBy=name.asc
2025-11-27T15:21:16.041Z [REQ bb5dc1fd] GET /api/suppliers?limit=200&orderBy=name.asc
[0mGET /api/projects?limit=200&orderBy=name.asc [36m304[0m 256.303 ms - -[0m
2025-11-27T15:21:16.072Z [RES 55d5ddd5] 304 GET /api/projects?limit=200&orderBy=name.asc
2025-11-27T15:21:16.075Z [REQ 402cdacb] GET /api/projects?limit=200&orderBy=name.asc
[0mGET /api/finance/pos?limit=25&offset=0&orderBy=issueDate.desc [32m200[0m 263.446 ms - 36047[0m
2025-11-27T15:21:16.079Z [RES d6a96faa] 200 GET /api/finance/pos?limit=25&offset=0&orderBy=issueDate.desc
2025-11-27T15:21:16.081Z [REQ e69514a0] GET /api/finance/pos?limit=25&offset=0&orderBy=issueDate.desc
[0mGET /api/suppliers?limit=200&orderBy=name.asc [36m304[0m 54.696 ms - -[0m
2025-11-27T15:21:16.095Z [RES bb5dc1fd] 304 GET /api/suppliers?limit=200&orderBy=name.asc
[0mGET /api/finance/pos?limit=25&offset=0&orderBy=issueDate.desc [36m304[0m 61.332 ms - -[0m
2025-11-27T15:21:16.143Z [RES e69514a0] 304 GET /api/finance/pos?limit=25&offset=0&orderBy=issueDate.desc
[0mGET /api/projects?limit=200&orderBy=name.asc [36m304[0m 130.772 ms - -[0m
2025-11-27T15:21:16.208Z [RES 402cdacb] 304 GET /api/projects?limit=200&orderBy=name.asc
2025-11-27T15:21:18.334Z [REQ 0957fab3] GET /api/applications?page=1&pageSize=50
[AFP DEBUG] First item: {
  "id": 30,
  "tenantId": "demo",
  "projectId": 37,
  "supplierId": 174,
  "contractId": 13,
  "applicationNumber": 3,
  "applicationNo": "PA-003",
  "reference": null,
  "title": "Payment Application #3",
  "applicationDate": "2025-11-12T12:29:08.568Z",
  "valuationDate": "2025-11-12T00:00:00.000Z",
  "dueDate": "2025-11-26T00:00:00.000Z",
  "finalPaymentDate": "2025-12-17T00:00:00.000Z",
  "periodStart": null,
  "periodEnd": null,
  "assessmentDate": null,
  "status": "PAYMENT_NOTICE_SENT",
  "currency": "GBP",
  "claimedGrossValue": "50000",
  "claimedRetention": "2500",
  "claimedNetValue": "0",
  "claimedPreviouslyPaid": "0",
  "claimedThisPeriod": "50000",
  "grossToDate": "0",
  "variationsValue": "0",
  "prelimsValue": "0",
  "retentionValue": "0",
  "mosValue": "0",
  "offsiteValue": "0",
  "deductionsValue": "0",
  "netClaimed": "0",
  "certifiedGrossValue": "50000",
  "certifiedRetention": "2500",
  "certifiedNetValue": null,
  "certifiedPreviouslyPaid": null,
  "certifiedThisPeriod": "47500",
  "certifiedAmount": null,
  "certifiedDate": "2025-11-27T11:07:07.523Z",
  "certifiedByUserId": 13,
  "certificationNotes": "admin: Unknown QS\n\n",
  "amountPaid": null,
  "paidDate": null,
  "paymentReference": null,
  "lineItems": null,
  "variations": null,
  "materialsOnSite": null,
  "previouslyValued": null,
  "submissionDocument": null,
  "valuationDocument": null,
  "paymentNoticeDocument": null,
  "payLessNoticeDocument": null,
  "paymentCertificateUrl": null,
  "paymentCertificateGeneratedAt": null,
  "contractorNotes": "",
  "qsNotes": null,
  "internalNotes": null,
  "rejectionReason": null,
  "notes": null,
  "submittedBy": 13,
  "submittedAt": "2025-11-12T12:29:08.589Z",
  "reviewedBy": 13,
  "reviewedAt": "2025-11-27T11:07:07.523Z",
  "approvedBy": null,
  "approvedAt": null,
  "cancelledBy": null,
  "cancelledAt": null,
  "cancellationReason": null,
  "paymentNoticeSent": true,
  "paymentNoticeSentAt": "2025-11-27T11:07:07.587Z",
  "paymentNoticeAmount": "47500",
  "paymentNoticeIssuedAt": "2025-11-27T11:07:07.587Z",
  "payLessNoticeSent": false,
  "payLessNoticeSentAt": null,
  "payLessNoticeAmount": null,
  "payLessNoticeReason": null,
  "payLessReason": null,
  "payLessNoticeIssuedAt": null,
  "retentionPercentage": "5",
  "retentionHeldToDate": "0",
  "retentionReleasedPC": "0",
  "retentionReleasedFinal": "0",
  "isActCompliant": true,
  "complianceNotes": null,
  "disputeRaised": false,
  "disputeDetails": null,
  "sourceType": null,
  "emailSender": null,
  "emailSubject": null,
  "emailBody": null,
  "emailReceivedAt": null,
  "emailMessageId": null,
  "emailAttachmentCount": null,
  "ocrStatus": null,
  "ocrStartedAt": null,
  "ocrCompletedAt": null,
  "ocrError": null,
  "ocrRawText": null,
  "ocrConfidence": null,
  "ocrS3Key": null,
  "ocrS3Bucket": null,
  "ocrJobId": null,
  "ocrExtractedData": null,
  "contractMatchMethod": null,
  "contractMatchConfidence": null,
  "suggestedContracts": null,
  "contractMatchedAt": null,
  "contractMatchedBy": null,
  "autoPopulated": false,
  "requiresReview": false,
  "ocrReviewedBy": null,
  "ocrReviewedAt": null,
  "ocrReviewNotes": null,
  "createdAt": "2025-11-12T12:29:08.569Z",
  "updatedAt": "2025-11-27T11:07:07.589Z",
  "project": {
    "id": 37,
    "tenantId": "demo",
    "code": "THE DEMO",
    "name": "THE DEMO",
    "description": "Major structural strengthening of the A40 viaduct including bearing replacements, deck repairs, and traffic management. Critical infrastructure project requiring minimal disruption to existing traffic flows.",
    "clientId": 47,
    "statusId": null,
    "typeId": null,
    "status": "Active",
    "type": "General",
    "projectManagerId": null,
    "country": null,
    "currency": null,
    "unitSystem": null,
    "taxScheme": null,
    "contractForm": null,
    "clientContactId": null,
    "sitePostcode": "A40, Westshire, UK",
    "siteLat": null,
    "siteLng": null,
    "contractType": null,
    "paymentTermsDays": null,
    "retentionPct": null,
    "projectManagerUserId": null,
    "quantitySurveyorUserId": null,
    "startPlanned": "2025-03-01T00:00:00.000Z",
    "endPlanned": "2026-03-31T00:00:00.000Z",
    "startActual": null,
    "endActual": null,
    "labels": null,
    "budget": "12500000",
    "actualSpend": null,
    "startDate": null,
    "endDate": null,
    "deletedAt": null,
    "createdAt": "2025-11-03T09:41:01.322Z",
    "updatedAt": "2025-11-03T11:58:57.598Z"
  },
  "supplier": {
    "id": 174,
    "tenantId": "demo",
    "name": "Mechanical Specialists Ltd 9",
    "status": "active",
    "email": "tender+mech9@demo.local",
    "phone": "+44 20 1008000 2008",
    "companyRegNo": null,
    "vatNo": null,
    "insurancePolicyNumber": "INS-MECH-1008",
    "insuranceExpiry": "2026-12-31T00:00:00.000Z",
    "hsAccreditations": "Bronze",
    "performanceScore": "67.18196725940425",
    "complianceStatus": "compliant",
    "createdAt": "2025-11-03T09:41:01.319Z",
    "updatedAt": "2025-11-03T09:41:01.319Z"
  },
  "contract": {
    "id": 13,
    "projectId": 37,
    "packageId": 63,
    "supplierId": 174,
    "title": "Mechanical Package - Contract",
    "contractRef": "CNT-A40-001",
    "value": "2473903.98",
    "currency": "GBP",
    "status": "active",
    "signedAt": null,
    "startDate": "2025-11-03T09:41:02.968Z",
    "endDate": "2026-05-02T09:41:02.968Z",
    "retentionPct": null,
    "paymentTerms": null,
    "notes": null,
    "internalTeam": null,
    "createdAt": "2025-11-03T09:41:02.969Z",
    "updatedAt": "2025-11-27T11:07:07.584Z",
    "originalValue": null,
    "managedByUserId": null,
    "pdfUrl": null,
    "tenantId": "demo",
    "documentSource": "NONE",
    "draftDocumentUrl": null,
    "draftDocumentName": null,
    "signedDocumentUrl": null,
    "signedDocumentName": null,
    "signedDocumentUploadedAt": null,
    "signedDocumentUploadedBy": null,
    "ocrStatus": "NONE",
    "ocrRawText": null,
    "ocrExtractedData": null,
    "ocrConfidence": null,
    "ocrReviewedBy": null,
    "ocrReviewedAt": null,
    "ocrReviewNotes": null,
    "issuedAt": null,
    "issuedBy": null,
    "signedBy": null,
    "contractTypeId": null,
    "rfxId": null,
    "awardId": 14,
    "draftCreatedAt": null,
    "lockedAt": null,
    "sourceMode": null,
    "paymentFrequency": "MONTHLY",
    "paymentDueDays": 14,
    "paymentFinalDays": 21,
    "retentionPercentage": "5",
    "retentionLimit": null,
    "valuationDayOfMonth": null,
    "nextApplicationDue": null,
    "totalCertifiedToDate": "47500",
    "totalPaidToDate": "0",
    "retentionHeld": "0",
    "retentionReleased": "0"
  }
}
[0mGET /api/applications?page=1&pageSize=50 [36m304[0m 65.688 ms - -[0m
2025-11-27T15:21:18.400Z [RES 0957fab3] 304 GET /api/applications?page=1&pageSize=50
2025-11-27T15:21:18.452Z [REQ 154e9c42] GET /api/applications?page=1&pageSize=50
[AFP DEBUG] First item: {
  "id": 30,
  "tenantId": "demo",
  "projectId": 37,
  "supplierId": 174,
  "contractId": 13,
  "applicationNumber": 3,
  "applicationNo": "PA-003",
  "reference": null,
  "title": "Payment Application #3",
  "applicationDate": "2025-11-12T12:29:08.568Z",
  "valuationDate": "2025-11-12T00:00:00.000Z",
  "dueDate": "2025-11-26T00:00:00.000Z",
  "finalPaymentDate": "2025-12-17T00:00:00.000Z",
  "periodStart": null,
  "periodEnd": null,
  "assessmentDate": null,
  "status": "PAYMENT_NOTICE_SENT",
  "currency": "GBP",
  "claimedGrossValue": "50000",
  "claimedRetention": "2500",
  "claimedNetValue": "0",
  "claimedPreviouslyPaid": "0",
  "claimedThisPeriod": "50000",
  "grossToDate": "0",
  "variationsValue": "0",
  "prelimsValue": "0",
  "retentionValue": "0",
  "mosValue": "0",
  "offsiteValue": "0",
  "deductionsValue": "0",
  "netClaimed": "0",
  "certifiedGrossValue": "50000",
  "certifiedRetention": "2500",
  "certifiedNetValue": null,
  "certifiedPreviouslyPaid": null,
  "certifiedThisPeriod": "47500",
  "certifiedAmount": null,
  "certifiedDate": "2025-11-27T11:07:07.523Z",
  "certifiedByUserId": 13,
  "certificationNotes": "admin: Unknown QS\n\n",
  "amountPaid": null,
  "paidDate": null,
  "paymentReference": null,
  "lineItems": null,
  "variations": null,
  "materialsOnSite": null,
  "previouslyValued": null,
  "submissionDocument": null,
  "valuationDocument": null,
  "paymentNoticeDocument": null,
  "payLessNoticeDocument": null,
  "paymentCertificateUrl": null,
  "paymentCertificateGeneratedAt": null,
  "contractorNotes": "",
  "qsNotes": null,
  "internalNotes": null,
  "rejectionReason": null,
  "notes": null,
  "submittedBy": 13,
  "submittedAt": "2025-11-12T12:29:08.589Z",
  "reviewedBy": 13,
  "reviewedAt": "2025-11-27T11:07:07.523Z",
  "approvedBy": null,
  "approvedAt": null,
  "cancelledBy": null,
  "cancelledAt": null,
  "cancellationReason": null,
  "paymentNoticeSent": true,
  "paymentNoticeSentAt": "2025-11-27T11:07:07.587Z",
  "paymentNoticeAmount": "47500",
  "paymentNoticeIssuedAt": "2025-11-27T11:07:07.587Z",
  "payLessNoticeSent": false,
  "payLessNoticeSentAt": null,
  "payLessNoticeAmount": null,
  "payLessNoticeReason": null,
  "payLessReason": null,
  "payLessNoticeIssuedAt": null,
  "retentionPercentage": "5",
  "retentionHeldToDate": "0",
  "retentionReleasedPC": "0",
  "retentionReleasedFinal": "0",
  "isActCompliant": true,
  "complianceNotes": null,
  "disputeRaised": false,
  "disputeDetails": null,
  "sourceType": null,
  "emailSender": null,
  "emailSubject": null,
  "emailBody": null,
  "emailReceivedAt": null,
  "emailMessageId": null,
  "emailAttachmentCount": null,
  "ocrStatus": null,
  "ocrStartedAt": null,
  "ocrCompletedAt": null,
  "ocrError": null,
  "ocrRawText": null,
  "ocrConfidence": null,
  "ocrS3Key": null,
  "ocrS3Bucket": null,
  "ocrJobId": null,
  "ocrExtractedData": null,
  "contractMatchMethod": null,
  "contractMatchConfidence": null,
  "suggestedContracts": null,
  "contractMatchedAt": null,
  "contractMatchedBy": null,
  "autoPopulated": false,
  "requiresReview": false,
  "ocrReviewedBy": null,
  "ocrReviewedAt": null,
  "ocrReviewNotes": null,
  "createdAt": "2025-11-12T12:29:08.569Z",
  "updatedAt": "2025-11-27T11:07:07.589Z",
  "project": {
    "id": 37,
    "tenantId": "demo",
    "code": "THE DEMO",
    "name": "THE DEMO",
    "description": "Major structural strengthening of the A40 viaduct including bearing replacements, deck repairs, and traffic management. Critical infrastructure project requiring minimal disruption to existing traffic flows.",
    "clientId": 47,
    "statusId": null,
    "typeId": null,
    "status": "Active",
    "type": "General",
    "projectManagerId": null,
    "country": null,
    "currency": null,
    "unitSystem": null,
    "taxScheme": null,
    "contractForm": null,
    "clientContactId": null,
    "sitePostcode": "A40, Westshire, UK",
    "siteLat": null,
    "siteLng": null,
    "contractType": null,
    "paymentTermsDays": null,
    "retentionPct": null,
    "projectManagerUserId": null,
    "quantitySurveyorUserId": null,
    "startPlanned": "2025-03-01T00:00:00.000Z",
    "endPlanned": "2026-03-31T00:00:00.000Z",
    "startActual": null,
    "endActual": null,
    "labels": null,
    "budget": "12500000",
    "actualSpend": null,
    "startDate": null,
    "endDate": null,
    "deletedAt": null,
    "createdAt": "2025-11-03T09:41:01.322Z",
    "updatedAt": "2025-11-03T11:58:57.598Z"
  },
  "supplier": {
    "id": 174,
    "tenantId": "demo",
    "name": "Mechanical Specialists Ltd 9",
    "status": "active",
    "email": "tender+mech9@demo.local",
    "phone": "+44 20 1008000 2008",
    "companyRegNo": null,
    "vatNo": null,
    "insurancePolicyNumber": "INS-MECH-1008",
    "insuranceExpiry": "2026-12-31T00:00:00.000Z",
    "hsAccreditations": "Bronze",
    "performanceScore": "67.18196725940425",
    "complianceStatus": "compliant",
    "createdAt": "2025-11-03T09:41:01.319Z",
    "updatedAt": "2025-11-03T09:41:01.319Z"
  },
  "contract": {
    "id": 13,
    "projectId": 37,
    "packageId": 63,
    "supplierId": 174,
    "title": "Mechanical Package - Contract",
    "contractRef": "CNT-A40-001",
    "value": "2473903.98",
    "currency": "GBP",
    "status": "active",
    "signedAt": null,
    "startDate": "2025-11-03T09:41:02.968Z",
    "endDate": "2026-05-02T09:41:02.968Z",
    "retentionPct": null,
    "paymentTerms": null,
    "notes": null,
    "internalTeam": null,
    "createdAt": "2025-11-03T09:41:02.969Z",
    "updatedAt": "2025-11-27T11:07:07.584Z",
    "originalValue": null,
    "managedByUserId": null,
    "pdfUrl": null,
    "tenantId": "demo",
    "documentSource": "NONE",
    "draftDocumentUrl": null,
    "draftDocumentName": null,
    "signedDocumentUrl": null,
    "signedDocumentName": null,
    "signedDocumentUploadedAt": null,
    "signedDocumentUploadedBy": null,
    "ocrStatus": "NONE",
    "ocrRawText": null,
    "ocrExtractedData": null,
    "ocrConfidence": null,
    "ocrReviewedBy": null,
    "ocrReviewedAt": null,
    "ocrReviewNotes": null,
    "issuedAt": null,
    "issuedBy": null,
    "signedBy": null,
    "contractTypeId": null,
    "rfxId": null,
    "awardId": 14,
    "draftCreatedAt": null,
    "lockedAt": null,
    "sourceMode": null,
    "paymentFrequency": "MONTHLY",
    "paymentDueDays": 14,
    "paymentFinalDays": 21,
    "retentionPercentage": "5",
    "retentionLimit": null,
    "valuationDayOfMonth": null,
    "nextApplicationDue": null,
    "totalCertifiedToDate": "47500",
    "totalPaidToDate": "0",
    "retentionHeld": "0",
    "retentionReleased": "0"
  }
}
[0mGET /api/applications?page=1&pageSize=50 [36m304[0m 77.033 ms - -[0m
2025-11-27T15:21:18.529Z [RES 154e9c42] 304 GET /api/applications?page=1&pageSize=50
2025-11-27T15:21:19.353Z [REQ 11912e0e] GET /api/finance/invoices?matchStatus=needs_review&limit=50
[0mGET /api/finance/invoices?matchStatus=needs_review&limit=50 [36m304[0m 49.420 ms - -[0m
2025-11-27T15:21:19.403Z [RES 11912e0e] 304 GET /api/finance/invoices?matchStatus=needs_review&limit=50
2025-11-27T15:21:19.406Z [REQ 1687232e] GET /api/finance/invoices?matchStatus=needs_review&limit=50
[0mGET /api/finance/invoices?matchStatus=needs_review&limit=50 [36m304[0m 31.089 ms - -[0m
2025-11-27T15:21:19.437Z [RES 1687232e] 304 GET /api/finance/invoices?matchStatus=needs_review&limit=50
2025-11-27T15:21:20.398Z [REQ d1146b1d] GET /api/finance/inbound?limit=100
[0mGET /api/finance/inbound?limit=100 [32m200[0m 10.798 ms - 22[0m
2025-11-27T15:21:20.406Z [RES d1146b1d] 200 GET /api/finance/inbound?limit=100
2025-11-27T15:21:20.416Z [REQ 2507d2b7] GET /api/finance/inbound?limit=100
[0mGET /api/finance/inbound?limit=100 [36m304[0m 50.252 ms - -[0m
2025-11-27T15:21:20.466Z [RES 2507d2b7] 304 GET /api/finance/inbound?limit=100
2025-11-27T15:21:21.314Z [REQ d67587cd] GET /api/settings/finance
[0mGET /api/settings/finance [36m304[0m 47.906 ms - -[0m
2025-11-27T15:21:21.362Z [RES d67587cd] 304 GET /api/settings/finance
2025-11-27T15:21:21.365Z [REQ 0e0805ec] GET /api/settings/finance
[0mGET /api/settings/finance [36m304[0m 7.074 ms - -[0m
2025-11-27T15:21:21.373Z [RES 0e0805ec] 304 GET /api/settings/finance
2025-11-27T15:21:23.133Z [REQ 45f7b8d7] GET /api/projects?limit=1000
[0mGET /api/projects?limit=1000 [32m200[0m 85.369 ms - 58476[0m
2025-11-27T15:21:23.221Z [RES 45f7b8d7] 200 GET /api/projects?limit=1000
2025-11-27T15:21:23.224Z [REQ 5bea2fde] GET /api/projects?limit=1000
[0mGET /api/projects?limit=1000 [36m304[0m 65.816 ms - -[0m
2025-11-27T15:21:23.290Z [RES 5bea2fde] 304 GET /api/projects?limit=1000
2025-11-27T15:21:25.261Z [REQ 3ce396cb] GET /api/projects/37/info
2025-11-27T15:21:25.262Z [REQ 05ae79f2] GET /api/v1/tenants/modules
[0mGET /api/v1/tenants/modules [36m304[0m 81.293 ms - -[0m
2025-11-27T15:21:25.344Z [RES 05ae79f2] 304 GET /api/v1/tenants/modules
2025-11-27T15:21:25.349Z [REQ f99be763] GET /api/v1/tenants/modules
[0mGET /api/projects/37/info [36m304[0m 101.732 ms - -[0m
2025-11-27T15:21:25.363Z [RES 3ce396cb] 304 GET /api/projects/37/info
2025-11-27T15:21:25.367Z [REQ 2de677dd] GET /api/projects/37/info
[0mGET /api/v1/tenants/modules [36m304[0m 18.623 ms - -[0m
2025-11-27T15:21:25.368Z [RES f99be763] 304 GET /api/v1/tenants/modules
[0mGET /api/projects/37/info [36m304[0m 93.860 ms - -[0m
2025-11-27T15:21:25.461Z [RES 2de677dd] 304 GET /api/projects/37/info
2025-11-27T15:21:25.877Z [REQ 015f730d] GET /api/projects/37/overview
[0mGET /api/projects/37/overview [32m200[0m 487.185 ms - 2549[0m
2025-11-27T15:21:26.364Z [RES 015f730d] 200 GET /api/projects/37/overview
2025-11-27T15:21:26.369Z [REQ 8510aadf] GET /api/projects/37/overview
[0mGET /api/projects/37/overview [36m304[0m 275.756 ms - -[0m
2025-11-27T15:21:26.645Z [RES 8510aadf] 304 GET /api/projects/37/overview
2025-11-27T15:21:30.011Z [REQ a225ac6d] GET /api/projects/37/contracts
[0mGET /api/projects/37/contracts [36m304[0m 55.038 ms - -[0m
2025-11-27T15:21:30.066Z [RES a225ac6d] 304 GET /api/projects/37/contracts
2025-11-27T15:21:30.071Z [REQ 9c7d2fe7] GET /api/projects/37/contracts
[0mGET /api/projects/37/contracts [36m304[0m 54.055 ms - -[0m
2025-11-27T15:21:30.125Z [RES 9c7d2fe7] 304 GET /api/projects/37/contracts
2025-11-27T15:21:31.964Z [REQ 9dbb1f55] GET /api/contracts/13
2025-11-27T15:21:31.965Z [REQ b383cd72] GET /api/contract-types
2025-11-27T15:21:31.966Z [REQ 1637f240] GET /api/v1/tenants/modules
[0mGET /api/contract-types [33m404[0m 52.958 ms - 157[0m
2025-11-27T15:21:32.018Z [RES b383cd72] 404 GET /api/contract-types
2025-11-27T15:21:32.021Z [REQ 2477288f] GET /api/contract-types
[0mGET /api/v1/tenants/modules [36m304[0m 94.495 ms - -[0m
2025-11-27T15:21:32.060Z [RES 1637f240] 304 GET /api/v1/tenants/modules
2025-11-27T15:21:32.065Z [REQ 14cf9765] GET /api/v1/tenants/modules
[0mGET /api/contract-types [33m404[0m 108.529 ms - 157[0m
2025-11-27T15:21:32.129Z [RES 2477288f] 404 GET /api/contract-types
[0mGET /api/v1/tenants/modules [36m304[0m 73.564 ms - -[0m
2025-11-27T15:21:32.139Z [RES 14cf9765] 304 GET /api/v1/tenants/modules
[0mGET /api/contracts/13 [32m200[0m 217.986 ms - 944[0m
2025-11-27T15:21:32.182Z [RES 9dbb1f55] 200 GET /api/contracts/13
2025-11-27T15:21:32.185Z [REQ 80ce7ff1] GET /api/contracts/13
[0mGET /api/contracts/13 [36m304[0m 52.153 ms - -[0m
2025-11-27T15:21:32.237Z [RES 80ce7ff1] 304 GET /api/contracts/13
2025-11-27T15:21:35.192Z [REQ e48ca465] GET /api/contracts/13/applications?
[0mGET /api/contracts/13/applications? [32m200[0m 82.112 ms - 8772[0m
2025-11-27T15:21:35.274Z [RES e48ca465] 200 GET /api/contracts/13/applications?
2025-11-27T15:21:35.279Z [REQ 16bc21a1] GET /api/contracts/13/applications?
[0mGET /api/contracts/13/applications? [36m304[0m 57.733 ms - -[0m
2025-11-27T15:21:35.337Z [RES 16bc21a1] 304 GET /api/contracts/13/applications?
2025-11-27T15:21:44.088Z [REQ 0f5618b0] GET /api/applications/30
[0mGET /api/applications/30 [36m304[0m 52.017 ms - -[0m
2025-11-27T15:21:44.140Z [RES 0f5618b0] 304 GET /api/applications/30
2025-11-27T15:21:44.144Z [REQ 34b2ae7b] GET /api/applications/30
[0mGET /api/applications/30 [36m304[0m 17.803 ms - -[0m
2025-11-27T15:21:44.162Z [RES 34b2ae7b] 304 GET /api/applications/30
2025-11-27T15:27:13.434Z [REQ 93c8bf2b] GET /api/payment-applications/30/certificate/download
[0mGET /api/payment-applications/30/certificate/download [33m404[0m 73.740 ms - 187[0m
2025-11-27T15:27:13.508Z [RES 93c8bf2b] 404 GET /api/payment-applications/30/certificate/download
2025-11-27T15:27:16.137Z [REQ 57d5036c] POST /api/payment-applications/30/certificate/send
[0mPOST /api/payment-applications/30/certificate/send [33m404[0m 46.892 ms - 184[0m
2025-11-27T15:27:16.184Z [RES 57d5036c] 404 POST /api/payment-applications/30/certificate/send
2025-11-27T15:27:21.725Z [REQ 32dcadc6] POST /api/payment-applications/30/certificate/mark-sent
[0mPOST /api/payment-applications/30/certificate/mark-sent [33m404[0m 60.839 ms - 189[0m
2025-11-27T15:27:21.786Z [RES 32dcadc6] 404 POST /api/payment-applications/30/certificate/mark-sent
